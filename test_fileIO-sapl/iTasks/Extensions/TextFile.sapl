|| ?module? iTasks.Extensions.TextFile


iTasks.Extensions.TextFile.readAll !file_0 = let _x_1_0 = StdFile.freads file_0 1048576, chunk_1_1 = select _x_1_0::_Tuple2 0 in case (<{StdInt.<_17}> (_SystemArray.size_20 chunk_1_1) 1048576) (True -> _Tuple2 chunk_1_1 (select _x_1_0::_Tuple2 1)) (False -> let _x_3_0 = iTasks.Extensions.TextFile.readAll (select _x_1_0::_Tuple2 1) in _Tuple2 (<{StdString.+++_11}> chunk_1_1 (select _x_3_0::_Tuple2 0)) (select _x_3_0::_Tuple2 1)) 
iTasks.Extensions.TextFile.openException s_0 = let e_1_0 = iTasks.Extensions.Document.FileException s_0 System.File.CannotOpen in Data.Error.Error (_Tuple2 (_SystemDynamic._DynamicTemp e_1_0 (_SystemDynamic.TypeCons (_SystemDynamic._TypeCodeConstructor <{iTasks.Extensions.Document.TD;FileException}>))) (iTasks.Extensions.Document.toString_4 e_1_0))
iTasks.Extensions.TextFile.closeException s_0 = let e_1_0 = iTasks.Extensions.Document.FileException s_0 System.File.CannotClose in Data.Error.Error (_Tuple2 (_SystemDynamic._DynamicTemp e_1_0 (_SystemDynamic.TypeCons (_SystemDynamic._TypeCodeConstructor <{iTasks.Extensions.Document.TD;FileException}>))) (iTasks.Extensions.Document.toString_4 e_1_0))
iTasks.Extensions.TextFile.fileTaskRead task_0 !filename_1 f_2 !iworld_3 = case iworld_3 (iTasks.Internal.IWorld._IWorld server_1_0 config_1_1 clocks_1_2 current_1_3 random_1_4 sdsNotifyRequests_1_5 memoryShares_1_6 cachedShares_1_7 exposedShares_1_8 jsCompilerState_1_9 ioTasks_1_10 ioStates_1_11 world_1_12 resources_1_13 onClient_1_14 shutdown_1_15 -> case current_1_3 (iTasks.Internal.IWorld._TaskEvalState taskTime_2_0 task_2_1 session_2_2 attachmentChain_2_3 nextTaskNo_2_4 -> let _x_3_0 = StdFile.fopen_31 filename_1 3 world_1_12 in case (StdBool.not (select _x_3_0::_Tuple3 0)) (True -> _Tuple2 (iTasks.Extensions.TextFile.openException filename_1) (update iworld_3::iTasks.Internal.IWorld._IWorld [12:select _x_3_0::_Tuple3 2])) (False -> let file_5_0 = select _x_3_0::_Tuple3 1, _x_5_1 = f_2 file_5_0, file_5_2 = select _x_5_1::_Tuple2 1, world_5_3 = select _x_3_0::_Tuple3 2, _x_5_4 = StdFile.fclose_30 file_5_2 world_5_3 in case (StdBool.not (select _x_5_4::_Tuple2 0)) (True -> _Tuple2 (iTasks.Extensions.TextFile.closeException filename_1) (update iworld_3::iTasks.Internal.IWorld._IWorld [12:select _x_5_4::_Tuple2 1])) (False -> _Tuple2 (Data.Error.Ok (select _x_5_1::_Tuple2 0)) (update iworld_3::iTasks.Internal.IWorld._IWorld [12:select _x_5_4::_Tuple2 1])) ) ) ) 
iTasks.Extensions.TextFile.eval_10 !filename_0 task_1 !iworld_2 = iTasks.Extensions.TextFile.fileTaskRead task_1 filename_0 iTasks.Extensions.TextFile.readAll iworld_2
iTasks.Extensions.TextFile.importTextFile !filename_0 = iTasks.Internal.Task.mkInstantTask (<{iTasks.WF.Definition.iTask;}> (<{iTasks.Extensions.TextFile.gEditor_s;}> iTasks.UI.Editor.Generic.gEditor__String_11) (<{iTasks.Extensions.TextFile.gText_s;}> iTasks.Internal.Generic.Visualization.gText__String_15) (<{iTasks.Extensions.TextFile.JSONEncode_s;}> Text.JSON.JSONEncode__String_15) (<{iTasks.Extensions.TextFile.JSONDecode_s;}> Text.JSON.JSONDecode__String_39) (<{iTasks.Extensions.TextFile.gDefault_s;}> iTasks.Internal.Generic.Defaults.gDefault__String_12) (<{iTasks.Extensions.TextFile.gEq_s;}> GenEq.gEq__String_6) (_SystemDynamic.TypeApp (_SystemDynamic.TypeCons (_SystemDynamic._TypeCodeConstructor _SystemDynamic.TC__UnboxedArray)) (_SystemDynamic.TypeCons (_SystemDynamic._TypeCodeConstructor _SystemDynamic.TC_Char)))) (iTasks.Extensions.TextFile.eval_10 filename_0)
iTasks.Extensions.TextFile.writeAll !content_0 !file_1 = StdFile.fwrites content_0 file_1
iTasks.Extensions.TextFile.fileTaskWrite task_0 !filename_1 content_2 f_3 !iworld_4 = case iworld_4 (iTasks.Internal.IWorld._IWorld server_1_0 config_1_1 clocks_1_2 current_1_3 random_1_4 sdsNotifyRequests_1_5 memoryShares_1_6 cachedShares_1_7 exposedShares_1_8 jsCompilerState_1_9 ioTasks_1_10 ioStates_1_11 world_1_12 resources_1_13 onClient_1_14 shutdown_1_15 -> case current_1_3 (iTasks.Internal.IWorld._TaskEvalState taskTime_2_0 task_2_1 session_2_2 attachmentChain_2_3 nextTaskNo_2_4 -> let _x_3_0 = StdFile.fopen_31 filename_1 4 world_1_12 in case (StdBool.not (select _x_3_0::_Tuple3 0)) (True -> _Tuple2 (iTasks.Extensions.TextFile.openException filename_1) (update iworld_4::iTasks.Internal.IWorld._IWorld [12:select _x_3_0::_Tuple3 2])) (False -> let file_5_0 = select _x_3_0::_Tuple3 1, file_5_1 = f_3 content_2 file_5_0, world_5_2 = select _x_3_0::_Tuple3 2, _x_5_3 = StdFile.fclose_30 file_5_1 world_5_2 in case (StdBool.not (select _x_5_3::_Tuple2 0)) (True -> _Tuple2 (iTasks.Extensions.TextFile.closeException filename_1) (update iworld_4::iTasks.Internal.IWorld._IWorld [12:select _x_5_3::_Tuple2 1])) (False -> _Tuple2 (Data.Error.Ok content_2) (update iworld_4::iTasks.Internal.IWorld._IWorld [12:select _x_5_3::_Tuple2 1])) ) ) ) 
iTasks.Extensions.TextFile.eval_11 !filename_0 content_1 task_2 !iworld_3 = iTasks.Extensions.TextFile.fileTaskWrite task_2 filename_0 content_1 iTasks.Extensions.TextFile.writeAll iworld_3
iTasks.Extensions.TextFile.exportTextFile !filename_0 !content_1 = iTasks.Internal.Task.mkInstantTask (<{iTasks.WF.Definition.iTask;}> (<{iTasks.Extensions.TextFile.gEditor_s;}> iTasks.UI.Editor.Generic.gEditor__String_11) (<{iTasks.Extensions.TextFile.gText_s;}> iTasks.Internal.Generic.Visualization.gText__String_15) (<{iTasks.Extensions.TextFile.JSONEncode_s;}> Text.JSON.JSONEncode__String_15) (<{iTasks.Extensions.TextFile.JSONDecode_s;}> Text.JSON.JSONDecode__String_39) (<{iTasks.Extensions.TextFile.gDefault_s;}> iTasks.Internal.Generic.Defaults.gDefault__String_12) (<{iTasks.Extensions.TextFile.gEq_s;}> GenEq.gEq__String_6) (_SystemDynamic.TypeApp (_SystemDynamic.TypeCons (_SystemDynamic._TypeCodeConstructor _SystemDynamic.TC__UnboxedArray)) (_SystemDynamic.TypeCons (_SystemDynamic._TypeCodeConstructor _SystemDynamic.TC_Char)))) (iTasks.Extensions.TextFile.eval_11 filename_0 content_1)
iTasks.Extensions.TextFile.writeJSON !_vtoString_0 encoder_1 content_2 !file_3 = StdFile.fwrites (select _vtoString_0::<{StdOverloaded.toString;}> 0 (encoder_1 content_2)) file_3
iTasks.Extensions.TextFile.ioException s_0 = let e_1_0 = iTasks.Extensions.Document.FileException s_0 System.File.IOError in Data.Error.Error (_Tuple2 (_SystemDynamic._DynamicTemp e_1_0 (_SystemDynamic.TypeCons (_SystemDynamic._TypeCodeConstructor <{iTasks.Extensions.Document.TD;FileException}>))) (iTasks.Extensions.Document.toString_4 e_1_0))


|| Converted Records
:: <{iTasks.Extensions.TextFile.JSONEncode_s;}> = {!iTasks.Extensions.TextFile.JSONEncode_s}

:: <{iTasks.Extensions.TextFile.JSONEncode_ss;}> = {!iTasks.Extensions.TextFile.JSONEncode_ss}

:: <{iTasks.Extensions.TextFile.JSONEncode_sss;}> = {!iTasks.Extensions.TextFile.JSONEncode_sss}

:: <{iTasks.Extensions.TextFile.JSONDecode_s;}> = {!iTasks.Extensions.TextFile.JSONDecode_s}

:: <{iTasks.Extensions.TextFile.JSONDecode_ss;}> = {!iTasks.Extensions.TextFile.JSONDecode_ss}

:: <{iTasks.Extensions.TextFile.JSONDecode_sss;}> = {!iTasks.Extensions.TextFile.JSONDecode_sss}

:: <{iTasks.Extensions.TextFile.gDefault_s;}> = {iTasks.Extensions.TextFile.gDefault_s}

:: <{iTasks.Extensions.TextFile.gDefault_ss;}> = {iTasks.Extensions.TextFile.gDefault_ss}

:: <{iTasks.Extensions.TextFile.gDefault_sss;}> = {iTasks.Extensions.TextFile.gDefault_sss}

:: <{iTasks.Extensions.TextFile.gText_s;}> = {!iTasks.Extensions.TextFile.gText_s}

:: <{iTasks.Extensions.TextFile.gText_ss;}> = {!iTasks.Extensions.TextFile.gText_ss}

:: <{iTasks.Extensions.TextFile.gText_sss;}> = {!iTasks.Extensions.TextFile.gText_sss}

:: <{iTasks.Extensions.TextFile.gEditor_s;}> = {iTasks.Extensions.TextFile.gEditor_s}

:: <{iTasks.Extensions.TextFile.gEditor_ss;}> = {iTasks.Extensions.TextFile.gEditor_ss}

:: <{iTasks.Extensions.TextFile.gEditor_sss;}> = {iTasks.Extensions.TextFile.gEditor_sss}

:: <{iTasks.Extensions.TextFile.gEq_s;}> = {!iTasks.Extensions.TextFile.gEq_s}

:: <{iTasks.Extensions.TextFile.gEq_ss;}> = {!iTasks.Extensions.TextFile.gEq_ss}

:: <{iTasks.Extensions.TextFile.gEq_sss;}> = {!iTasks.Extensions.TextFile.gEq_sss}

:: <{iTasks.Extensions.TextFile.gEq_ssss;}> = {!iTasks.Extensions.TextFile.gEq_ssss}

:: <{iTasks.Extensions.TextFile.gEq_sssss;}> = {!iTasks.Extensions.TextFile.gEq_sssss}

:: <{iTasks.Extensions.TextFile.gEq_ssssss;}> = {!iTasks.Extensions.TextFile.gEq_ssssss}

:: <{iTasks.Extensions.TextFile.gEq_sssssss;}> = {!iTasks.Extensions.TextFile.gEq_sssssss}

:: <{iTasks.Extensions.TextFile.gEq_ssssssss;}> = {!iTasks.Extensions.TextFile.gEq_ssssssss}

:: <{iTasks.Extensions.TextFile.gEq_sssssssss;}> = {!iTasks.Extensions.TextFile.gEq_sssssssss}

:: <{iTasks.Extensions.TextFile.bimap_s;}> = {iTasks.Extensions.TextFile.bimap_s}

:: <{iTasks.Extensions.TextFile.bimap_ss;}> = {iTasks.Extensions.TextFile.bimap_ss}

:: <{iTasks.Extensions.TextFile.bimap_sss;}> = {iTasks.Extensions.TextFile.bimap_sss}

:: <{iTasks.Extensions.TextFile.JSONEncode_ssss;}> = {!iTasks.Extensions.TextFile.JSONEncode_ssss}

:: <{iTasks.Extensions.TextFile.JSONEncode_sssss;}> = {!iTasks.Extensions.TextFile.JSONEncode_sssss}

:: <{iTasks.Extensions.TextFile.JSONEncode_ssssss;}> = {!iTasks.Extensions.TextFile.JSONEncode_ssssss}

:: <{iTasks.Extensions.TextFile.JSONEncode_sssssss;}> = {!iTasks.Extensions.TextFile.JSONEncode_sssssss}

:: <{iTasks.Extensions.TextFile.JSONEncode_ssssssss;}> = {!iTasks.Extensions.TextFile.JSONEncode_ssssssss}

:: <{iTasks.Extensions.TextFile.JSONEncode_sssssssss;}> = {!iTasks.Extensions.TextFile.JSONEncode_sssssssss}

:: <{iTasks.Extensions.TextFile.JSONDecode_ssss;}> = {!iTasks.Extensions.TextFile.JSONDecode_ssss}

:: <{iTasks.Extensions.TextFile.JSONDecode_sssss;}> = {!iTasks.Extensions.TextFile.JSONDecode_sssss}

:: <{iTasks.Extensions.TextFile.JSONDecode_ssssss;}> = {!iTasks.Extensions.TextFile.JSONDecode_ssssss}

:: <{iTasks.Extensions.TextFile.JSONDecode_sssssss;}> = {!iTasks.Extensions.TextFile.JSONDecode_sssssss}

:: <{iTasks.Extensions.TextFile.JSONDecode_ssssssss;}> = {!iTasks.Extensions.TextFile.JSONDecode_ssssssss}

:: <{iTasks.Extensions.TextFile.JSONDecode_sssssssss;}> = {!iTasks.Extensions.TextFile.JSONDecode_sssssssss}

:: <{iTasks.Extensions.TextFile.gText_ssss;}> = {!iTasks.Extensions.TextFile.gText_ssss}

:: <{iTasks.Extensions.TextFile.gText_sssss;}> = {!iTasks.Extensions.TextFile.gText_sssss}

:: <{iTasks.Extensions.TextFile.gText_ssssss;}> = {!iTasks.Extensions.TextFile.gText_ssssss}

:: <{iTasks.Extensions.TextFile.gText_sssssss;}> = {!iTasks.Extensions.TextFile.gText_sssssss}

:: <{iTasks.Extensions.TextFile.gText_ssssssss;}> = {!iTasks.Extensions.TextFile.gText_ssssssss}

:: <{iTasks.Extensions.TextFile.gText_sssssssss;}> = {!iTasks.Extensions.TextFile.gText_sssssssss}

:: <{iTasks.Extensions.TextFile.gDefault_ssss;}> = {iTasks.Extensions.TextFile.gDefault_ssss}

:: <{iTasks.Extensions.TextFile.gDefault_sssss;}> = {iTasks.Extensions.TextFile.gDefault_sssss}

:: <{iTasks.Extensions.TextFile.gDefault_ssssss;}> = {iTasks.Extensions.TextFile.gDefault_ssssss}

:: <{iTasks.Extensions.TextFile.gDefault_sssssss;}> = {iTasks.Extensions.TextFile.gDefault_sssssss}

:: <{iTasks.Extensions.TextFile.gDefault_ssssssss;}> = {iTasks.Extensions.TextFile.gDefault_ssssssss}

:: <{iTasks.Extensions.TextFile.gDefault_sssssssss;}> = {iTasks.Extensions.TextFile.gDefault_sssssssss}

:: <{iTasks.Extensions.TextFile.gEditor_ssss;}> = {iTasks.Extensions.TextFile.gEditor_ssss}

:: <{iTasks.Extensions.TextFile.gEditor_sssss;}> = {iTasks.Extensions.TextFile.gEditor_sssss}

:: <{iTasks.Extensions.TextFile.gEditor_ssssss;}> = {iTasks.Extensions.TextFile.gEditor_ssssss}

:: <{iTasks.Extensions.TextFile.gEditor_sssssss;}> = {iTasks.Extensions.TextFile.gEditor_sssssss}

