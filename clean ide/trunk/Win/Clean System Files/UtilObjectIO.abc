.comp 920 000111010001
.start _nostart_
.depend "osfileselect" "20161223204044"
.depend "StdSystem" "20161223204043"
.depend "scheduler" "20161223204043"
.depend "StdProcessDef" "20161223204043"
.depend "clCCall_12" "20161223204044"
.depend "StdWindow" "20161223204043"
.depend "StdArray" "20170313110416"
.depend "StdLibMisc" "20170313110414"
.depend "Directory" "20161223204009"
.depend "StdId" "20161223204043"
.depend "StdControlClass" "20161223204043"
.depend "roundrobin" "20161223204043"
.depend "processstack" "20161223204043"
.depend "timerhandle" "20161223204044"
.depend "processhandle" "20161223204043"
.depend "osmenu" "20161223204044"
.depend "StdMenuDef" "20161223204043"
.depend "menuhandle" "20161223204042"
.depend "devicesystemstate" "20161223204042"
.depend "keyfocus" "20161223204042"
.depend "commondef" "20161223204042"
.depend "receiverhandle" "20161223204043"
.depend "StdWindowDef" "20161223204044"
.depend "StdControlDef" "20161223204043"
.depend "windowhandle" "20161223204044"
.depend "StdTimerDef" "20161223204043"
.depend "timertable" "20161223204044"
.depend "semidynamic" "20161223204043"
.depend "receivertable" "20161223204043"
.depend "receivermessage" "20161223204043"
.depend "deviceevents" "20170206121016"
.depend "devicefunctions" "20161223204042"
.depend "ossystem" "20161223204044"
.depend "osguishare" "20161223204044"
.depend "ostime" "20161223204044"
.depend "clCrossCall_12" "20161223204044"
.depend "osevent" "20161223204044"
.depend "ostoolbar" "20161223204044"
.depend "menuCrossCall_12" "20161223204044"
.depend "osdocumentinterface" "20161223204044"
.depend "osactivaterequests" "20161223204044"
.depend "iostate" "20161223204042"
.depend "systemid" "20161223204044"
.depend "device" "20161223204042"
.depend "id" "20161223204042"
.depend "oskey" "20161223204044"
.depend "StdKey" "20161223204043"
.depend "StdPicture" "20161223204043"
.depend "StdIOBasic" "20161223204043"
.depend "StdPictureDef" "20161223204043"
.depend "osfont" "20161223204044"
.depend "ostypes" "20161223204044"
.depend "ostoolbox" "20161223204044"
.depend "osrgn" "20161223204044"
.depend "ospicture" "20161223204044"
.depend "osbitmap" "20161223204044"
.depend "StdBitmap" "20161223204043"
.depend "StdIOCommon" "20161223204043"
.depend "StdPSt" "20161223204043"
.depend "UtilDate" "20170123155353"
.depend "StdPathname" "20170123155353"
.depend "_SystemArray" "20170313110416"
.depend "StdTuple" "20170313110416"
.depend "StdMaybe" "20170313110414"
.depend "StdFunc" "20170313110416"
.depend "StdFile" "20170313110416"
.depend "StdString" "20170313110416"
.depend "StdGeneric" "20170313110416"
.depend "GenEq" "20170313110405"
.depend "Data.Monoid" "20170313110413"
.depend "Control.Monad" "20170313110412"
.depend "Control.Applicative" "20170313110412"
.depend "System.IO" "20170313110415"
.depend "Data.Functor" "20170313110413"
.depend "Data.Maybe" "20170313110413"
.depend "StdReal" "20170313110416"
.depend "StdChar" "20170313110416"
.depend "StdInt" "20170313110416"
.depend "StdBool" "20170313110416"
.depend "StdClass" "20170313110416"
.depend "StdList" "20170313110416"
.depend "StdOverloaded" "20170313110416"
.depend "_SystemDynamic" "20170313110405"
.depend "UtilObjectIO" "20170206122648"
.implib "util_io_shell_lib"
.module m_UtilObjectIO "UtilObjectIO" "20170206122648"
.endinfo
.impmod _system
.implab _cycle_in_spine
.implab _type_error
.implab _hnf
.impdesc e_system_dind
.implab e_system_nind e_system_eaind
.impdesc e_system_dif
.implab e_system_nif e_system_eaif
.implab e_system_sif
.impdesc e_system_dAP
.implab e_system_nAP e_system_eaAP
.implab e_system_sAP
.impdesc ARRAY
.impdesc _Nil
.impdesc _Cons
.impdesc _Conss
.implab n_Conss ea_Conss
.impdesc _Consts
.implab n_Consts ea_Consts
.impdesc _Conssts
.implab n_Conssts ea_Conssts
.impdesc _Tuple
.impdesc d_S.1
.implab n_S.1 ea_S.1
.impdesc d_S.2
.implab n_S.2 ea_S.2
.impdesc d_S.3
.implab n_S.3 ea_S.3
.impdesc d_S.4
.implab n_S.4 ea_S.4
.impdesc d_S.5
.implab n_S.5 ea_S.5
.impdesc d_S.6
.implab n_S.6 ea_S.6
.implab _driver
.impmod osfileselect
.implab e_osfileselect_sosInitialiseFileSelectors
.impmod StdSystem
.implab e_StdSystem_sdirseparator
.impmod scheduler
.implab e_scheduler_shandleOneEventForDevices
.impmod clCCall_12
.implab e_clCCall_12_swinReleaseCString
.implab e_clCCall_12_swinGetCStringAndFree
.implab e_clCCall_12_swinMakeCString
.impmod StdWindow
.impdesc e_StdWindow_dgetWindowsStack
.impmod commondef
.implab e_commondef_sfatalError
.impmod deviceevents
.impdesc e_deviceevents_kScheduleOSEvent
.impmod clCrossCall_12
.implab e_clCrossCall_12_sissueCleanRequest
.implab e_clCrossCall_12_sissueCleanRequest2
.implab e_clCrossCall_12_sreturn0Cci
.impdesc e_clCrossCall_12_rCrossCallInfo
.impmod iostate
.impdesc e_iostate_dgetIOToolbox
.impdesc e_iostate_dsetIOToolbox
.impdesc e_iostate_daccIOToolbox
.impmod id
.impdesc e_id_d==;27
.impmod StdPictureDef
.impdesc e_StdPictureDef_rRGBColour
.impdesc e_StdPictureDef_tRGBColour
.implab e_StdPictureDef_cRGBColour
.impdesc e_StdPictureDef_dRGB
.impmod StdPSt
.implab e_StdPSt_sappPIO
.impdesc e_StdPSt_daccPIO
.implab e_StdPSt_saccPIO
.implab e_StdPSt_naccPIO
.impmod _SystemArray
.impmod StdString
.implab e_StdString_stoString;5
.implab e_StdString_s%;10
.implab e_StdString_s+++;11
.impmod Data.Maybe
.impdesc e_Data.Maybe_dNothing
.impdesc e_Data.Maybe_dJust
.impmod StdChar
.implab e_StdChar_s==;18
.impmod StdInt
.impdesc e_StdInt_dbitand
.implab e_StdInt_sbitand
.implab e_StdInt_nbitand
.implab e_StdInt_s>>
.implab e_StdInt_s+;6
.implab e_StdInt_s-;7
.implab e_StdInt_sone;11
.implab e_StdInt_s==;16
.implab e_StdInt_s<;17
.impmod StdBool
.implab e_StdBool_snot
.impmod StdClass
.impdesc e_StdClass_rEq;
.impmod StdList
.implab e_StdList_sisMember
.impmod StdOverloaded
.impdesc e_StdOverloaded_r==;
.export e_UtilObjectIO_sisWindow
.descexp e_UtilObjectIO_disWindow e_UtilObjectIO_nisWindow e_UtilObjectIO_lisWindow 2 0 "isWindow"
.a 0 a6
.o 2 0
e_UtilObjectIO_lisWindow
	repl_args 1 1
.o 2 0
a6
.d 2 0
	jsr ea6
.o 2 0
	push_a 1
	push_a 1
	buildh _Tuple 2
	updatepop_a 0 2
.d 1 0
	rtn
.n 2 e_UtilObjectIO_disWindow
.o 1 0
e_UtilObjectIO_nisWindow
	push_node _cycle_in_spine 2
.d 2 0
	jsr ea6
.o 2 0
	push_a 1
	push_a 1
	fillh _Tuple 2 4
	pop_a 2
.d 1 0
	rtn
.o 2 0
ea6
	jsr_eval 0
.o 2 0
e_UtilObjectIO_sisWindow
.o 2 0
s6
	buildh e_StdWindow_dgetWindowsStack 0
	push_a 2
	push_a 1
	update_a 1 2
	update_a 0 1
	pop_a 1
	build e_StdPSt_daccPIO 2 e_StdPSt_naccPIO
	push_a 0
	build d_S.2 -1 n_S.2
	push_a 1
	build d_S.1 -1 n_S.1
	push_a 3
	build _ 2 n70
	update_a 1 4
	updatepop_a 0 3
.d 2 0
	rtn
.n 2 _ ea70
.o 1 0
n70
	push_node _cycle_in_spine 2
.o 3 0
ea70
.o 3 0
s70
	push_a 1
	jsr_eval 0
	buildh e_id_d==;27 0
	push_a 2
	push_a 1
	update_a 1 2
	update_a 0 1
	pop_a 1
	update_a 2 4
	update_a 1 3
	updatepop_a 0 2
.d 3 0
	jsr e_StdList_sisMember
.o 0 1 b
	fillB_b 0 0
	pop_b 1
.d 1 0
	rtn
.export e_UtilObjectIO_sGetDialogBackgroundColour
.descexp e_UtilObjectIO_dGetDialogBackgroundColour e_UtilObjectIO_nGetDialogBackgroundColour e_UtilObjectIO_lGetDialogBackgroundColour 1 0 "GetDialogBackgroundColour"
.o 2 0
e_UtilObjectIO_lGetDialogBackgroundColour
	pop_a 1
.d 1 0
	jsr ea5
.o 3 0
.impmod iostate
.impdesc e_iostate_rPSt
	build_r e_iostate_rPSt 2 0 1 0
	push_a 1
	buildh _Tuple 2
	updatepop_a 0 3
.d 1 0
	rtn
.n 1 e_UtilObjectIO_dGetDialogBackgroundColour
.o 1 0
e_UtilObjectIO_nGetDialogBackgroundColour
	push_node _cycle_in_spine 1
.d 1 0
	jsr ea5
.o 3 0
	build_r e_iostate_rPSt 2 0 1 0
	push_a 1
	fillh _Tuple 2 5
	pop_a 3
.d 1 0
	rtn
.o 1 0
ea5
	jsr_eval 0
	repl_r_args 2 0
.o 2 0
e_UtilObjectIO_sGetDialogBackgroundColour
.o 2 0
s5
	buildI 15
	build _ 1 n29
	push_a 0
	build _ 1 n72
	push_a 1
	build _ 1 n71
	buildI 255
	push_a 3
	build _ 2 e_StdInt_nbitand
	build e_StdPictureDef_tRGBColour 3 e_StdPictureDef_cRGBColour
	buildh e_StdPictureDef_dRGB 1
	push_a 3
	push_a 3
	push_a 2
	update_a 2 3
	update_a 1 2
	update_a 0 1
	pop_a 1
	update_a 2 5
	update_a 1 4
	updatepop_a 0 3
.d 3 0
	rtn
.n 1 _ ea72
.o 1 0
n72
	push_node _cycle_in_spine 1
.o 2 0
ea72
.o 2 0
s72
	push_a 0
	jsr_eval 0
	pushI_a 1
	pop_a 1
	pushI 16711680
	push_b 1
	update_b 1 2
	update_b 0 1
	pop_b 1
	and%
	pushI 16
	push_b 1
	update_b 1 2
	update_b 0 1
	pop_b 1
	pop_a 1
	shiftr%
	fillI_b 0 0
	pop_b 1
.d 1 0
	rtn
.n 1 _ ea71
.o 1 0
n71
	push_node _cycle_in_spine 1
.o 2 0
ea71
.o 2 0
s71
	push_a 0
	jsr_eval 0
	pushI_a 1
	pop_a 1
	pushI 65280
	push_b 1
	update_b 1 2
	update_b 0 1
	pop_b 1
	and%
	pushI 8
	push_b 1
	update_b 1 2
	update_b 0 1
	pop_b 1
	pop_a 1
	shiftr%
	fillI_b 0 0
	pop_b 1
.d 1 0
	rtn
.n 1 _
.o 1 0
n29
	push_node _cycle_in_spine 1
.d 1 0
	jsr ea29
.o 0 1 i
	fillI_b 0 0
	pop_b 1
.d 1 0
	rtn
.o 1 0
ea29
	pushI_a 0
	pop_a 1
.o 0 1 i
s29
	ccall GetSysColor@4 "PI:I"

.d 0 1 i
	rtn
.export e_UtilObjectIO_sShellDefault
.descexp e_UtilObjectIO_dShellDefault e_UtilObjectIO_nShellDefault e_UtilObjectIO_lShellDefault 2 0 "ShellDefault"
.a 0 a4
.o 2 0
e_UtilObjectIO_lShellDefault
	repl_args 1 1
.o 2 0
a4
.d 2 0
	jsr ea4
.o 2 1 i
	build_r e_iostate_rPSt 2 0 0 0
	buildI_b 0
	buildh _Tuple 2
	updatepop_a 0 2
	pop_b 1
.d 1 0
	rtn
.n 2 e_UtilObjectIO_dShellDefault
.o 1 0
e_UtilObjectIO_nShellDefault
	push_node _cycle_in_spine 2
.d 2 0
	jsr ea4
.o 2 1 i
	build_r e_iostate_rPSt 2 0 0 0
	buildI_b 0
	fillh _Tuple 2 4
	pop_a 2
	pop_b 1
.d 1 0
	rtn
.o 2 0
ea4
	jsr_eval 1
	jsr_eval 0
	push_r_args 1 2 0
	push_array 2
	update_a 2 4
	update_a 0 2
	update_a 1 3
	pop_a 2
.o 3 0
e_UtilObjectIO_sShellDefault
.o 3 0
s4
	push_a 0
	buildh ARRAY 1
	buildh d8 1
	buildh e_iostate_daccIOToolbox 1
	push_a 3
	push_a 3
	push_a 2
	update_a 2 3
	update_a 1 2
	update_a 0 1
	pop_a 1
	update_a 2 5
	update_a 1 4
	updatepop_a 0 3
.d 3 0
	jsr e_StdPSt_saccPIO
.o 3 0
	pushI_a 0
	pop_a 1
.d 2 1 i
	rtn
.desc d8 _hnf l8 2 0 "osShellDefault"
.a 0 a8
.o 2 0
l8
	repl_args 1 1
.o 2 0
a8
.o 2 0
ea8
	jsr_eval 1
	pushI_a 1
	push_array 0
	update_a 0 2
	pop_a 2
	push_b 0
	push_a 0
	updatepop_b 0 1
	updatepop_a 0 1
.d 1 1 i
	jsr e_clCCall_12_swinMakeCString
.o 0 2 ii
	pushI 0
	pushI 0
	pushI 0
	pushI 0
	push_b 4
	pushI 0
	pushI 1476
	buildh d7 0
	push_b 8
	push_b 7
	update_b 1 8
	update_b 2 1
	update_b 3 2
	update_b 4 3
	update_b 5 4
	update_b 6 5
	update_b 7 6
	update_b 0 7
	pop_b 1
.d 1 8 iiiiiiii
	jsr e_clCrossCall_12_sissueCleanRequest2
.o 0 8 iiiiiiii
	push_b 7
	push_b 9
.d 0 2 ii
	jsr e_clCCall_12_swinReleaseCString
.o 0 1 i
	push_b 2
	update_b 1 11
	updatepop_b 0 10
	buildI_b 1
	buildI_b 0
	buildh _Tuple 2
	pop_b 2
.d 1 0
	rtn
.desc d7 _hnf l7 2 0 "osIgnoreCallback"
.a 0 a7
.o 2 0
l7
	repl_args 1 1
.o 2 0
a7
.o 2 0
ea7
	jsr_eval 1
	jsr_eval 0
	pushI_a 1
	repl_r_args 0 7
	pop_a 1
	pop_b 7
.d 0 0
	jsr e_clCrossCall_12_sreturn0Cci
.o 0 7 iiiiiii
	push_b 7
	push_b 7
	update_b 1 8
	update_b 2 1
	update_b 3 2
	update_b 4 3
	update_b 5 4
	update_b 6 5
	update_b 7 6
	update_b 0 7
	pop_b 1
	update_b 7 8
	update_b 6 7
	update_b 5 6
	update_b 4 5
	update_b 3 4
	update_b 2 3
	update_b 1 2
	updatepop_b 0 1
	buildI_b 7
	build_r e_clCrossCall_12_rCrossCallInfo 0 7 0 0
	buildh _Tuple 2
	pop_b 8
.d 1 0
	rtn
.export e_UtilObjectIO_sselectDirectory`
.descexp e_UtilObjectIO_dselectDirectory` e_UtilObjectIO_nselectDirectory` e_UtilObjectIO_lselectDirectory` 1 0 "selectDirectory`"
.o 2 0
e_UtilObjectIO_lselectDirectory`
	pop_a 1
.d 1 0
	jsr ea3
.o 3 0
	build_r e_iostate_rPSt 2 0 1 0
	push_a 1
	buildh _Tuple 2
	updatepop_a 0 3
.d 1 0
	rtn
.n 1 e_UtilObjectIO_dselectDirectory`
.o 1 0
e_UtilObjectIO_nselectDirectory`
	push_node _cycle_in_spine 1
.d 1 0
	jsr ea3
.o 3 0
	build_r e_iostate_rPSt 2 0 1 0
	push_a 1
	fillh _Tuple 2 5
	pop_a 3
.d 1 0
	rtn
.o 1 0
ea3
	jsr_eval 0
	repl_r_args 2 0
.o 2 0
e_UtilObjectIO_sselectDirectory`
.o 2 0
s3
.d 0 0
	jsr s27
.o 1 0
	pushI 0
	select _ 1 0
	jsr_eval 0
	push_a 2
	push_a 2
	push_a 2
	update_a 2 3
	update_a 1 2
	update_a 0 1
	pop_a 1
	update_a 2 4
	update_a 1 3
	updatepop_a 0 2
.d 3 0
	jsr s30
.o 3 0
	push_a 0
	updatepop_a 0 1
.d 1 0
	jsr s69
.o 2 0
	update_a 0 1
	pop_a 1
	push_a 2
	push_a 2
	push_a 2
	update_a 2 3
	update_a 1 2
	update_a 0 1
	pop_a 1
	update_a 2 4
	update_a 1 3
	updatepop_a 0 2
.d 3 0
	rtn
.o 2 0
s28
	push_a 0
	pushI 0
	push_a 2
	update_a 2 3
	update_a 1 2
	updatepop_a 0 1
	update _ 1 0
	push_a 1
	update_a 1 2
	updatepop_a 0 1

.d 2 0
	rtn
.o 3 0
s30
	buildh e_iostate_dgetIOToolbox 0
	push_a 3
	push_a 3
	push_a 2
	update_a 2 3
	update_a 1 2
	update_a 0 1
	pop_a 1
	update_a 3 5
	update_a 2 4
	update_a 1 3
	updatepop_a 0 2
.d 3 0
	jsr e_StdPSt_saccPIO
.o 3 0
	pushI_a 0
	pop_a 1
.d 0 1 i
	jsr e_osfileselect_sosInitialiseFileSelectors
.o 0 1 i
	build_r e_iostate_rPSt 2 0 0 0
	buildh d21 0
	push_a 4
	push_a 2
	update_a 1 3
	update_a 2 1
	update_a 0 2
	pop_a 1
	update_a 2 5
	update_a 1 4
	updatepop_a 0 3
.d 3 1 i
	jsr s24
.o 2 2 bi
	push_r_args 1 2 0
	buildI_b 1
	buildh e_iostate_dsetIOToolbox 1
	update_a 3 4
	update_a 2 3
	update_a 1 2
	updatepop_a 0 1
.d 3 0
	jsr e_StdPSt_sappPIO
.o 2 0
	create
	push_a 3
	push_b 0
	updatepop_b 0 2
	buildh _Nil 0
	update_a 0 5
	pop_a 1
.d 2 1 b
	jsr s39
.o 1 0
	update_a 2 3
	update_a 1 2
	updatepop_a 0 1
.d 3 0
	rtn
.o 2 1 b
s39
	eqB_b TRUE 0
	jmp_true case.1
	jmp case.2
case.1
	push_a 0
	buildh ARRAY 1
	fillh e_Data.Maybe_dJust 1 2
	pop_a 1
	pop_b 1
.d 1 0
	rtn
case.2
	fillh e_Data.Maybe_dNothing 0 1
	pop_a 1
	pop_b 1
.d 1 0
	rtn
.o 3 1 i
s24
	push_b 0
	push_a 2
	updatepop_b 0 1
	buildh _Nil 0
	update_a 0 4
	pop_a 1
.d 1 1 i
	jsr s68
.o 0 2 ii
	pushI 0
	pushI 0
	pushI 0
	pushI 0
	pushI 0
	push_b 5
	pushI 1475
	push_a 0
	buildh d25 1
	push_b 8
	push_a 2
	push_a 1
	update_a 1 2
	update_a 0 1
	pop_a 1
	push_b 7
	update_b 1 8
	update_b 2 1
	update_b 3 2
	update_b 4 3
	update_b 5 4
	update_b 6 5
	update_b 7 6
	update_b 0 7
	pop_b 1
	update_a 1 4
	updatepop_a 0 3
.d 2 8 iiiiiiii
	jsr e_clCrossCall_12_sissueCleanRequest
.o 1 8 iiiiiiii
	push_b 7
	push_b 9
.d 0 2 ii
	jsr s37
.o 0 1 i
	push_b 7
	push_b 7
	push_b 7
	push_b 7
	push_b 7
	push_b 7
	push_b 7
	update_b 7 15
	update_b 6 14
	update_b 5 13
	update_b 4 12
	update_b 3 11
	update_b 2 10
	update_b 1 9
	updatepop_b 0 8
.d 0 8 iiiiiiii
	jsr s33
.o 1 2 bi
	push_b 1
	push_a 1
	push_a 1
	push_b 1
	update_a 1 3
	updatepop_a 0 2
	update_b 1 5
	updatepop_b 0 4
.d 2 2 bi
	rtn
.o 0 2 ii
s37
	eqI_b 0 0
	jmp_true case.3
	jmp case.4
case.3
	pop_b 1
.d 0 1 i
	rtn
case.4
	push_b 1
	push_b 1
	update_b 1 3
	updatepop_b 0 2
.d 0 2 ii
	jmp e_clCCall_12_swinReleaseCString
.o 0 8 iiiiiiii
s33
	eqI_b 12 0
	jmp_true case.5
	eqI_b 1 0
	jmp_true case.6
	jmp case.7
case.5
	pushI 0
	push_b 2
	eqI
	jmp_false else.8
	push_b 7
	buildAC ""
	pushB FALSE
	update_b 1 9
	updatepop_b 0 8
.d 1 2 bi
	rtn
else.8
	push_b 7
	push_b 3
	update_b 1 9
	updatepop_b 0 8
.d 0 2 ii
	jsr e_clCCall_12_swinGetCStringAndFree
.o 1 1 i
	push_b 0
	push_a 0
	pushB TRUE
	updatepop_a 0 1
	update_b 1 2
	updatepop_b 0 1
.d 1 2 bi
	rtn
case.6
	push_b 7
	buildAC ""
	pushB FALSE
	update_b 1 9
	updatepop_b 0 8
.d 1 2 bi
	rtn
case.7
	push_b 0
	updatepop_b 0 8
.d 0 1 i
	jsr ItoAC
.o 1 0
	buildAC ")"
	push_a 1
	update_a 1 2
	update_a 0 1
	pop_a 1
.d 2 0
	jsr catAC
.o 1 0
	buildAC "unexpected ccMsg field of return CrossCallInfo ("
.d 2 0
	jsr catAC
.o 1 0
	buildAC "osSelectdirectory"
.d 2 0
	jsr s26
.o 1 0
	repl_args 3 3
	jsr_eval 2
	jsr_eval 1
	jsr_eval 0
	pushI_a 2
	push_array 1
	pushB_a 1
	update_a 0 3
	pop_a 3
.d 1 2 bi
	rtn
.n 0 _
.o 1 0
n27
	push_node _cycle_in_spine 0
.d 0 0
	jsr ea27
.o 1 0
	push_a 0
	fillh ARRAY 1 2
	pop_a 1
.d 1 0
	rtn
.o 0 0
ea27
.o 0 0
s27
	testcaf c27
	jmp_false m.9
	pushcaf c27 1 0
.d 1 0
	rtn
.caf c27 1 0
m.9
.d 0 0
	jsr s27.1
.o 1 0
	fillcaf c27 1 0
.d 1 0
	rtn
.o 0 0
s27.1
	ccall WinGetModulePath "-S"

.d 1 0
	jsr s11
.o 1 0
.d 1 0
	jsr s20
.o 1 0
	push_a 0
	buildh ARRAY 1
	buildh e_Data.Maybe_dJust 1
	pushI 1
	buildh _Nil 0
	update_a 0 2
	pop_a 1
	create_array_ _ 1 0
	pushI 0
	update_a 1 2
	updatepop_a 0 1
	update _ 1 0
.d 1 0
	rtn
.o 1 0
s20
	push_a 0
	push_arraysize CHAR 0 1
	pushI 1
	push_b 1
	update_b 1 2
	update_b 0 1
	pop_b 1
	subI
	push_a 0
.d 1 1 i
	jsr s67
.o 1 1 b
	push_b 0
	notB
	jmp_false else.10
	pop_a 1
	pop_b 1
.d 1 0
	rtn
else.10
	push_a 0
	jsr_eval 0
	pushI_a 1
	pop_a 1
	pushI 1
	push_b 1
	subI
	pushI 0
	push_a 1
	updatepop_a 0 1
.d 1 2 ii
	jsr sliceAC
.o 1 0
.d 1 0
	jsr s20
.o 1 0
	push_a 1
	push_arraysize CHAR 0 1
	pushI 1
	push_b 1
	update_b 1 2
	update_b 0 1
	pop_b 1
	subI
	pushI 1
	push_b 2
	addI
	push_a 1
	update_b 1 3
	updatepop_b 0 2
	update_a 1 2
	updatepop_a 0 1
.d 1 2 ii
	jsr sliceAC
.o 1 0
	buildAC "\\"
.d 2 0
	jsr catAC
.o 1 0
	push_a 1
.d 2 0
	jsr catAC
.o 1 0
	buildAC "\000"
	push_a 1
.d 2 0
	jsr catAC
.o 1 0
.d 1 0
	jsr s18
.o 1 1 b
	push_b 0
	jmp_false else.11
	push_a 0
	pop_b 1
	updatepop_a 0 2
.d 1 0
	jsr s17
.o 1 0
	buildAC "\\"
.d 2 0
	jsr catAC
.o 1 0
	push_a 1
	update_a 1 2
	updatepop_a 0 1
.d 2 0
	jsr catAC
.o 1 0
.d 1 0
	rtn
else.11
	updatepop_a 1 2
	pop_b 1
.d 1 0
	rtn
.o 1 0
s17
	push_a 0
	pushI 44
.d 1 1 i
	jsr s16
.o 0 1 i
	pushI 1
	push_b 1
	update_b 1 2
	update_b 0 1
	pop_b 1
	subI
	pushI 44
	push_a 0
	updatepop_a 0 1
.d 1 2 ii
	jsr sliceAC
.o 1 0
.d 1 0
	rtn
.o 1 1 i
s16
	push_a 0
	push_arraysize CHAR 0 1
	push_b 1
	ltI
	jmp_false else.12
	push_b 0
	push_a 0
	select CHAR 0 1
	pushC '\000'
	push_b 1
	update_b 1 2
	update_b 0 1
	pop_b 1
	eqC
	notB
	jmp_false else.12
	pushI 1
	push_b 1
	addI
	push_a 0
	updatepop_a 0 1
	updatepop_b 0 1
.d 1 1 i
	jmp s16
else.12
	pop_a 1
.d 0 1 i
	rtn
.o 1 0
s18
	push_a 0
	updatepop_a 0 1
.d 1 0
	jsr s13
.o 1 1 i
	pushI -1
	push_b 1
	eqI
	notB
	jmp_false else.14
	push_b 0
.d 0 1 i
	jsr s15
.o 0 1 i
	push_b 0
	push_b 1
	eqI
	jmp_false else.15
	push_a 0
	pushB TRUE
	updatepop_a 0 1
	updatepop_b 0 2
.d 1 1 b
	rtn
else.15
	push_a 0
	pushB FALSE
	updatepop_a 0 1
	updatepop_b 0 2
.d 1 1 b
	rtn
else.14
	buildAC ""
	pushB FALSE
	updatepop_a 0 1
	updatepop_b 0 1
.d 1 1 b
	rtn
.o 0 1 i
s15
	ccall FindClose@4 "PI:I"

.d 0 1 i
	rtn
.o 1 0
s13
	pushC '\000'
	pushI 318
	create_array CHAR 0 1
	push_a 0
	push_a 2
	update_a 2 3
	update_a 1 2
	updatepop_a 0 1
.d 2 0
	jsr s14
.o 0 1 i
	push_a 0
	updatepop_a 0 1
.d 1 1 i
	rtn
.o 2 0
s14
	ccall FindFirstFileA@8 "Pss:I"

.d 0 1 i
	rtn
.o 1 0
s11
	pushI 1
	push_a 0
	push_arraysize CHAR 0 1
	subI
	push_a 0
.d 1 1 i
	jsr s12
.o 0 2 bi
	push_b 0
	jmp_false else.16
	pushI 1
	push_b 2
	subI
	pushI 0
	push_a 0
	updatepop_a 0 1
	update_b 1 3
	updatepop_b 0 2
.d 1 2 ii
	jsr sliceAC
.o 1 0
.d 1 0
	rtn
else.16
	pop_b 2
.d 1 0
	rtn
.o 1 1 i
s12
	push_b 0
	pushI 0
	ltI
	notB
	jmp_false else.17
	pushI 0
	pushB FALSE
	update_b 1 2
	updatepop_b 0 1
	pop_a 1
.d 0 2 bi
	rtn
else.17
	push_b 0
	push_a 0
	select CHAR 0 1
.d 0 0
	jsr e_StdSystem_sdirseparator
.o 0 1 c
	eqC
	jmp_false else.18
	push_b 0
	pushB TRUE
	update_b 1 2
	updatepop_b 0 1
	pop_a 1
.d 0 2 bi
	rtn
else.18
	pushI 1
	push_b 1
	subI
	push_a 0
	updatepop_a 0 1
	updatepop_b 0 1
.d 1 1 i
	jmp s12
.o 0 0
s10
.inline WinGetModulePath
	ccall WinGetModulePath "-S"
.end

.d 1 0
	rtn
.export e_UtilObjectIO_sselectOutputFile`
.descexp e_UtilObjectIO_dselectOutputFile` e_UtilObjectIO_nselectOutputFile` e_UtilObjectIO_lselectOutputFile` 4 0 "selectOutputFile`"
.a 0 a2
.o 2 0
e_UtilObjectIO_lselectOutputFile`
	repl_args 3 3
.o 4 0
a2
.d 4 0
	jsr ea2
.o 3 0
	build_r e_iostate_rPSt 2 0 1 0
	push_a 1
	buildh _Tuple 2
	updatepop_a 0 3
.d 1 0
	rtn
.n 4 e_UtilObjectIO_dselectOutputFile`
.o 1 0
e_UtilObjectIO_nselectOutputFile`
	push_node _cycle_in_spine 4
.d 4 0
	jsr ea2
.o 3 0
	build_r e_iostate_rPSt 2 0 1 0
	push_a 1
	fillh _Tuple 2 5
	pop_a 3
.d 1 0
	rtn
.o 4 0
ea2
	jsr_eval 3
	jsr_eval 2
	jsr_eval 1
	jsr_eval 0
	push_r_args 3 2 0
	push_array 4
	push_array 4
	push_array 4
	update_a 4 8
	update_a 0 4
	update_a 3 7
	update_a 2 6
	update_a 1 5
	pop_a 4
.o 5 0
e_UtilObjectIO_sselectOutputFile`
.o 5 0
s2
	buildh e_iostate_dgetIOToolbox 0
	push_a 5
	push_a 5
	push_a 2
	update_a 2 3
	update_a 1 2
	update_a 0 1
	pop_a 1
	buildh _Nil 0
	update_a 0 7
	update_a 0 8
	pop_a 1
.d 3 0
	jsr e_StdPSt_saccPIO
.o 3 0
	pushI_a 0
	pop_a 1
.d 0 1 i
	jsr e_osfileselect_sosInitialiseFileSelectors
.o 0 1 i
	build_r e_iostate_rPSt 2 0 0 0
	buildh d21 0
	push_a 6
	push_a 6
	push_a 6
	push_a 4
	update_a 3 5
	update_a 1 3
	update_a 4 1
	update_a 2 4
	update_a 0 2
	pop_a 1
	update_a 4 11
	update_a 3 10
	update_a 2 9
	update_a 1 8
	updatepop_a 0 7
.d 5 1 i
	jsr s23
.o 2 2 bi
	push_r_args 1 2 0
	buildI_b 1
	buildh e_iostate_dsetIOToolbox 1
	update_a 3 4
	update_a 2 3
	update_a 1 2
	updatepop_a 0 1
.d 3 0
	jsr e_StdPSt_sappPIO
.o 2 0
	create
	push_a 3
	push_b 0
	updatepop_b 0 2
	buildh _Nil 0
	update_a 0 5
	pop_a 1
.d 2 1 b
	jsr s36
.o 1 0
	update_a 2 3
	update_a 1 2
	updatepop_a 0 1
.d 3 0
	rtn
.o 2 1 b
s36
	eqB_b TRUE 0
	jmp_true case.19
	jmp case.20
case.19
	push_a 0
	buildh ARRAY 1
	fillh e_Data.Maybe_dJust 1 2
	pop_a 1
	pop_b 1
.d 1 0
	rtn
case.20
	fillh e_Data.Maybe_dNothing 0 1
	pop_a 1
	pop_b 1
.d 1 0
	rtn
.o 5 1 i
s23
	push_b 0
	push_a 2
	updatepop_b 0 1
	buildh _Nil 0
	update_a 0 4
	pop_a 1
.d 1 1 i
	jsr e_clCCall_12_swinMakeCString
.o 0 2 ii
	push_b 1
	push_a 3
	update_a 2 4
	update_a 1 3
	updatepop_a 0 2
.d 1 1 i
	jsr e_clCCall_12_swinMakeCString
.o 0 2 ii
	push_b 1
	push_a 2
	buildh _Nil 0
	update_a 0 4
	pop_a 1
.d 1 1 i
	jsr e_clCCall_12_swinMakeCString
.o 0 2 ii
	pushI 0
	pushI 0
	pushI 0
	push_b 3
	push_b 6
	push_b 9
	pushI 1479
	push_a 0
	buildh d25 1
	push_b 8
	push_a 2
	push_a 1
	update_a 1 2
	update_a 0 1
	pop_a 1
	push_b 7
	update_b 1 8
	update_b 2 1
	update_b 3 2
	update_b 4 3
	update_b 5 4
	update_b 6 5
	update_b 7 6
	update_b 0 7
	pop_b 1
	update_a 1 4
	updatepop_a 0 3
.d 2 8 iiiiiiii
	jsr e_clCrossCall_12_sissueCleanRequest
.o 1 8 iiiiiiii
	push_b 7
	push_b 13
.d 0 2 ii
	jsr e_clCCall_12_swinReleaseCString
.o 0 1 i
	push_b 11
.d 0 2 ii
	jsr e_clCCall_12_swinReleaseCString
.o 0 1 i
	push_b 9
.d 0 2 ii
	jsr e_clCCall_12_swinReleaseCString
.o 0 1 i
	push_b 7
	push_b 7
	push_b 7
	push_b 7
	push_b 7
	push_b 7
	push_b 7
	update_b 7 15
	update_b 6 14
	update_b 5 13
	update_b 4 12
	update_b 3 11
	update_b 2 10
	update_b 1 9
	updatepop_b 0 8
.d 0 8 iiiiiiii
	jsr s32
.o 1 2 bi
	push_b 1
	push_a 1
	push_a 1
	push_b 1
	update_a 1 3
	updatepop_a 0 2
	update_b 1 9
	updatepop_b 0 8
.d 2 2 bi
	rtn
.o 0 8 iiiiiiii
s32
	eqI_b 12 0
	jmp_true case.21
	eqI_b 1 0
	jmp_true case.22
	jmp case.23
case.21
	pushI 0
	push_b 2
	eqI
	jmp_false else.24
	push_b 7
	buildAC ""
	pushB FALSE
	update_b 1 9
	updatepop_b 0 8
.d 1 2 bi
	rtn
else.24
	push_b 7
	push_b 3
	update_b 1 9
	updatepop_b 0 8
.d 0 2 ii
	jsr e_clCCall_12_swinGetCStringAndFree
.o 1 1 i
	push_b 0
	push_a 0
	pushB TRUE
	updatepop_a 0 1
	update_b 1 2
	updatepop_b 0 1
.d 1 2 bi
	rtn
case.22
	push_b 7
	buildAC ""
	pushB FALSE
	update_b 1 9
	updatepop_b 0 8
.d 1 2 bi
	rtn
case.23
	push_b 0
	updatepop_b 0 8
.d 0 1 i
	jsr ItoAC
.o 1 0
	buildAC ")"
	push_a 1
	update_a 1 2
	update_a 0 1
	pop_a 1
.d 2 0
	jsr catAC
.o 1 0
	buildAC "unexpected ccMsg field of return CrossCallInfo ("
.d 2 0
	jsr catAC
.o 1 0
	buildAC "osSelectoutputfile"
.d 2 0
	jsr s26
.o 1 0
	repl_args 3 3
	jsr_eval 2
	jsr_eval 1
	jsr_eval 0
	pushI_a 2
	push_array 1
	pushB_a 1
	update_a 0 3
	pop_a 3
.d 1 2 bi
	rtn
.export e_UtilObjectIO_sselectInputFile`
.descexp e_UtilObjectIO_dselectInputFile` e_UtilObjectIO_nselectInputFile` e_UtilObjectIO_lselectInputFile` 1 0 "selectInputFile`"
.o 2 0
e_UtilObjectIO_lselectInputFile`
	pop_a 1
.d 1 0
	jsr ea1
.o 3 0
	build_r e_iostate_rPSt 2 0 1 0
	push_a 1
	buildh _Tuple 2
	updatepop_a 0 3
.d 1 0
	rtn
.n 1 e_UtilObjectIO_dselectInputFile`
.o 1 0
e_UtilObjectIO_nselectInputFile`
	push_node _cycle_in_spine 1
.d 1 0
	jsr ea1
.o 3 0
	build_r e_iostate_rPSt 2 0 1 0
	push_a 1
	fillh _Tuple 2 5
	pop_a 3
.d 1 0
	rtn
.o 1 0
ea1
	jsr_eval 0
	repl_r_args 2 0
.o 2 0
e_UtilObjectIO_sselectInputFile`
.o 2 0
s1
	buildh e_iostate_dgetIOToolbox 0
	push_a 2
	push_a 2
	push_a 2
	update_a 2 3
	update_a 1 2
	update_a 0 1
	pop_a 1
	update_a 2 4
	update_a 1 3
	updatepop_a 0 2
.d 3 0
	jsr e_StdPSt_saccPIO
.o 3 0
	pushI_a 0
	pop_a 1
.d 0 1 i
	jsr e_osfileselect_sosInitialiseFileSelectors
.o 0 1 i
	build_r e_iostate_rPSt 2 0 0 0
	buildh d21 0
	update_a 1 3
	updatepop_a 0 2
.d 2 1 i
	jsr s22
.o 2 2 bi
	push_r_args 1 2 0
	buildI_b 1
	buildh e_iostate_dsetIOToolbox 1
	update_a 3 4
	update_a 2 3
	update_a 1 2
	updatepop_a 0 1
.d 3 0
	jsr e_StdPSt_sappPIO
.o 2 0
	create
	push_a 3
	push_b 0
	updatepop_b 0 2
	buildh _Nil 0
	update_a 0 5
	pop_a 1
.d 2 1 b
	jsr s35
.o 1 0
	update_a 2 3
	update_a 1 2
	updatepop_a 0 1
.d 3 0
	rtn
.o 2 1 b
s35
	eqB_b TRUE 0
	jmp_true case.25
	jmp case.26
case.25
	push_a 0
	buildh ARRAY 1
	fillh e_Data.Maybe_dJust 1 2
	pop_a 1
	pop_b 1
.d 1 0
	rtn
case.26
	fillh e_Data.Maybe_dNothing 0 1
	pop_a 1
	pop_b 1
.d 1 0
	rtn
.o 2 1 i
s22
	pushI 0
	pushI 0
	pushI 0
	pushI 0
	pushI 0
	pushI 0
	pushI 1478
	push_a 0
	buildh d25 1
	push_b 7
	push_a 2
	push_a 1
	update_a 1 2
	update_a 0 1
	pop_a 1
	push_b 7
	update_b 1 8
	update_b 2 1
	update_b 3 2
	update_b 4 3
	update_b 5 4
	update_b 6 5
	update_b 7 6
	update_b 0 7
	pop_b 1
	update_b 7 8
	update_b 6 7
	update_b 5 6
	update_b 4 5
	update_b 3 4
	update_b 2 3
	update_b 1 2
	updatepop_b 0 1
	update_a 1 3
	updatepop_a 0 2
.d 2 8 iiiiiiii
	jsr e_clCrossCall_12_sissueCleanRequest
.o 1 8 iiiiiiii
	push_b 7
	push_b 7
	push_b 7
	push_b 7
	push_b 7
	push_b 7
	push_b 7
	push_b 7
	update_b 7 15
	update_b 6 14
	update_b 5 13
	update_b 4 12
	update_b 3 11
	update_b 2 10
	update_b 1 9
	updatepop_b 0 8
.d 0 8 iiiiiiii
	jsr s31
.o 1 2 bi
	push_b 1
	push_a 1
	push_a 1
	push_b 1
	update_a 1 3
	updatepop_a 0 2
	update_b 1 3
	updatepop_b 0 2
.d 2 2 bi
	rtn
.o 0 8 iiiiiiii
s31
	eqI_b 12 0
	jmp_true case.27
	eqI_b 1 0
	jmp_true case.28
	jmp case.29
case.27
	pushI 0
	push_b 2
	eqI
	jmp_false else.30
	push_b 7
	buildAC ""
	pushB FALSE
	update_b 1 9
	updatepop_b 0 8
.d 1 2 bi
	rtn
else.30
	push_b 7
	push_b 3
	update_b 1 9
	updatepop_b 0 8
.d 0 2 ii
	jsr e_clCCall_12_swinGetCStringAndFree
.o 1 1 i
	push_b 0
	push_a 0
	pushB TRUE
	updatepop_a 0 1
	update_b 1 2
	updatepop_b 0 1
.d 1 2 bi
	rtn
case.28
	push_b 7
	buildAC ""
	pushB FALSE
	update_b 1 9
	updatepop_b 0 8
.d 1 2 bi
	rtn
case.29
	push_b 0
	updatepop_b 0 8
.d 0 1 i
	jsr ItoAC
.o 1 0
	buildAC ")"
	push_a 1
	update_a 1 2
	update_a 0 1
	pop_a 1
.d 2 0
	jsr catAC
.o 1 0
	buildAC "unexpected ccMsg field of return CrossCallInfo ("
.d 2 0
	jsr catAC
.o 1 0
	buildAC "osSelectinputfile"
.d 2 0
	jsr s26
.o 1 0
	repl_args 3 3
	jsr_eval 2
	jsr_eval 1
	jsr_eval 0
	pushI_a 2
	push_array 1
	pushB_a 1
	update_a 0 3
	pop_a 3
.d 1 2 bi
	rtn
.o 2 0
s26
	push_a 1
	buildAC "osaltfileselect"
	push_a 2
	update_a 2 4
	update_a 1 3
	updatepop_a 0 2
.d 3 0
	jmp e_commondef_sfatalError
.desc d25 _hnf l25 4 0 "callback"
.a 0 a25
.o 2 0
l25
	repl_args 3 3
.o 4 0
a25
.o 4 0
ea25
	jsr_eval 3
	jsr_eval 2
	jsr_eval 1
	jsr_eval 0
	pushI_a 3
	push_r_args 1 0 7
	update_a 2 3
	update_a 0 2
	pop_a 2
	push_a 1
	build_r e_clCrossCall_12_rCrossCallInfo 0 7 0 0
	push_a 2
	pop_b 7
	update_a 2 4
	update_a 1 3
	updatepop_a 0 2
	jsr_ap 2
.d 0 0
	jsr e_clCrossCall_12_sreturn0Cci
.o 0 7 iiiiiii
	push_b 7
	push_b 7
	update_b 1 8
	update_b 2 1
	update_b 3 2
	update_b 4 3
	update_b 5 4
	update_b 6 5
	update_b 7 6
	update_b 0 7
	pop_b 1
	update_b 7 8
	update_b 6 7
	update_b 5 6
	update_b 4 5
	update_b 3 4
	update_b 2 3
	update_b 1 2
	updatepop_b 0 1
	buildI_b 7
	push_a 1
	build_r e_clCrossCall_12_rCrossCallInfo 0 7 0 0
	buildh _Tuple 3
	updatepop_a 0 1
	pop_b 8
.d 1 0
	rtn
.desc d21 _hnf l21 2 0 "handleOSEvent"
.a 0 a21
.o 2 0
l21
	repl_args 1 1
.o 2 0
a21
.d 2 0
	jsr ea21
.o 2 0
	build_r e_iostate_rPSt 2 0 0 0
	updatepop_a 0 2
.d 1 0
	rtn
.o 2 0
ea21
	jsr_eval 1
	jsr_eval 0
	push_r_args 1 2 0
	push_r_args 2 0 7
	update_a 1 3
	update_a 0 2
	pop_a 2
.o 2 7 iiiiiii
s21
	buildh _Nil 0
	build_r e_clCrossCall_12_rCrossCallInfo 0 7 0 0
	build_r e_deviceevents_kScheduleOSEvent 2 0 0 0
	update_a 0 2
	pop_a 2
	push_a 2
	push_a 2
	push_a 2
	update_a 2 3
	update_a 1 2
	update_a 0 1
	pop_a 1
	pop_b 7
	update_a 2 4
	update_a 1 3
	updatepop_a 0 2
.d 3 0
	jsr e_scheduler_shandleOneEventForDevices
.o 3 1 b
	pop_a 1
	pop_b 1
.d 2 0
	rtn
.o 1 1 i
s67
	pushI 0
	push_b 1
	ltI
	jmp_false else.31
	buildI -1
	pushB FALSE
	updatepop_a 0 1
	updatepop_b 0 1
.d 1 1 b
	rtn
else.31
	push_b 0
	push_a 0
	select CHAR 0 1
	pushC '\\'
	push_b 1
	update_b 1 2
	update_b 0 1
	pop_b 1
	eqC
	jmp_false else.32
	buildI_b 0
	pushB TRUE
	updatepop_a 0 1
	updatepop_b 0 1
.d 1 1 b
	rtn
else.32
	pushI 1
	push_b 1
	subI
	push_a 0
	updatepop_a 0 1
	updatepop_b 0 1
.d 1 1 i
	jmp s67
.o 1 1 i
s68
	eq_desc e_Data.Maybe_dJust 1 0
	jmp_true case.33
	jmp case.34
case.33
	repl_args 1 1
	push_a 0
	jsr_eval 0
	push_array 0
	updatepop_a 0 1
	push_b 0
	updatepop_a 0 1
	updatepop_b 0 1
.d 1 1 i
	jmp e_clCCall_12_swinMakeCString
case.34
	push_b 0
	pushI 0
	update_b 1 2
	updatepop_b 0 1
	pop_a 1
.d 0 2 ii
	rtn
.o 1 0
s69
	eq_desc e_Data.Maybe_dNothing 0 0
	jmp_true case.35
	jmp case.36
case.35
	build _ 0 n27
	push_a 1
	update_a 1 2
	updatepop_a 0 1
.d 2 0
	rtn
case.36
	push_args 0 1 1
	pop_a 1
.d 0 0
	jsr s27
.o 1 0
	push_a 1
	update_a 1 2
	updatepop_a 0 1
.d 2 0
	jsr s28
.o 2 0
	push_a 1
	buildh ARRAY 1
	update_a 0 2
	pop_a 1
.d 2 0
	rtn
