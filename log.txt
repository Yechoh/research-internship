Hoi,

dit is mijn poging om een log bij te houden. Uit ervaring gaat dat niet zo goed.

voor 22-1
onbekende hoeveelheid uur besteed

zo 22-1
rond de 2 uur besteed aan test_systemprocess

ma 23-1
11:30 meeting
13:30 todo maken
13:50 repo gemaakt en cpm toegevoegd
14:19 wat rinus zei klopte. "WARNING: The directory name is invalid" is spartaans.
14:27 hier kan ik niet echt iets mee. ik ga kijken wat ik kan met system.callProcess
14:50 ik heb notepad geopend met de task callProcess
15:21 bas gevraagd hoe ik bij de clean build kan komen, zodat ik kan zien hoe de ide cpm aanroept
15:54 checked out clean ide en al een beetje rond gekeken
16:23 meer rondgekeken. ga naar huis
-- 5u

zo 29-1
14:53 gekeken waar ik ook al weer was. Ik duik weer in de clean ide
15:23 er gebeuren hier te veel dingen door elkaar. terug naar rinus filesystem programma
15:36 pauze
-- 1/2 uur

ma 30-1 
11:08 verder met createExec stap voor stap observeren
12:58 geprobeerd een file-die-output aan te roepen via cmdline en via de twee callprocess. system.callprocess geeft geen output. itasks.callprocess faalt. Nog een keer kijken hoe rinus dit deed.
13:25 ah, was world vergeten. 
13:43 zodra ik in webIDE een file open, is de heap full. ik heb niks aan het programma verandert en meen me te herinneren dat hij dit bij Rinus niet deed. Ik ga hulp vragen. loopt hij forever? oh, gwn heap groter maken
14:31 ik heb een stackoverflow gevonden van hoe je output opvangt in c. vergelijken met system.process
15:15 niet gelukt. mailtje naar bas gestuurd
-- 4u

di 31-1
11:06 mailtje van bas gelezen. uitproberen
12:12 nog steeds aan het rondkijken in cpm en ideState
-- 1u

16:52
17:25 aant aangevuld met hoe cpm werkt
-- 1/2u

-- maandtotaal januari: 13+?u --

do 2-2
14:02
15:12 getest wat de functie showlines in cpmLogic doet door het aan te roepen in een eigen project. Vooral imports is hier een tijdeisende bottleneck. Aan Peter Achten gevraagd hoe ik er rondomheen werk als iets dubbel gedefinieerd is in twee verschillende files. showLines output de antwoorden naar de console.
15:30 aant aangevuld
-- 1 1/2u

ma 6-2
10:44 ik ga cpmlogic2 maken, die mij de logfile met errors geeft
12:36 pauze
-- 2u

12:43 
15:33 ik kan de foutmeldingen weergeven van als ik call_cpm.icl compileer. Ze verschijnen in Temp/errors.
15:54 ik kan het exe bestand van een icl file genereren als er geen fouten zijn.
16:49 todonext is om het allemaal in een mooie zichzelf updatende task te gooien. Daar ben ik mee bezig.
-- 1 1/2u

do 9-2
11:56 
12:10 gister met Tim in de pauze over vak gehad. Vandaag uitgezocht hoe dat zat, want dat vond hij interessant
13:20 bijgelezen over combinators
14:46 ik kan errors laten zien in een itask bestand (van een andere file dan we bekijken, als mockup)
15:48 todotje gemaakt en daar al een tijdje mee bezig. Ik moet nu uitvogelen hoe de clean ide een standaard project maakt.
18:26 op aanraden van rinus de functie waitfortime gebruikt. Het is een viewInformation, dus niet wat ik wil, maar het bevat wel wat ik wil, namelijk hoe je je task laat wachten
-- 6 1/2u

ma 13-2
12:03 dit is wel een heel late start van de maandag. Gebeurt niet nog een keer
15:51 als je in todo.txt kijkt (todo 9-2), is stap 4 net gelukt, na heel veel iteraties.
16:35 net test_read_write gemaakt, die laat zien dat de functies readfromfile and writetofile samen ervoor zorgen dat er extra enters in de file komen.
16:39 maar niet als je als note read inplaats van als string
16:53 ik krijg de enters niet meer voor elkaar. Misschien het feit dat het door een sharedstore gaat?
-- 5u

do 16-2
12:37
13:21 mss ligt het aan updateInformation
14:37 korte dag, maar ik had te weinig slaap gister
-- 2u

vr 17-2
16:47 gister heb ik de design choice gemaakt dat files met start er in een project meekrijgen en andere niet. Dat ga ik nu maken.
17:34 ik heb niet gevonden hoe cpm ontdekt of er een startfunctie in de code voorkomt en ik kan dit beter vragen
-- 1u

ma 20-2
11:21 aan bas vragen hoe startfunctie ontdekt wordt
11:31 het plan is om een abc file te maken en te kijken of daar de regel in voorkomt die aangeeft of de iclfile een startfunctie heeft.
11:52 nog meer duidelijkheid. Er wordt geen abc file gemaakt zo lang er nog errors zijn. In mijn stappenplan moet dit dus na imports regelen.
12:41 terwijl ik het deel van de ide dat om imports vraag probeer te kopieren, kwam ik pm_compile tegen, dat zijn eigen vorm van compilen doet (ofzo) en ook de optie tot syntaxcheck geeft, iets wat wel interessant klinkt. Maar dit lijkt me te imbedded om er uit te kunnen slopen.
12:47 in plaats van omhoog heb ik nu omlaag gezocht. Het enige verschil is de tekst die geschreven wordt "compiling" vs "checking". Geen echt verschil dus. Terug naar imports
13:20 pauze
-- 2u

13:51
17:25
3 1/2u

do 23-2
12:53 vorige keer functie askImports gemaakt, maar er zitten nog fouten in, wss te maken met het pad
14:17 hele vreemde foutmeldingen. Mogelijk een compiler bug. Tim vraagt of ik dit wil uitzoeken
14:45 mogelijke bug naar bas gestuurd. Eindelijk de fout gevonden waar ik al een hele tijd op vastzat. Ik had een functie die vroeg of een stringgedeelte in een string zat, maar gaf ze in de verkeerde volgorde (zie functie isFile)
16:02 imports werkt! Projecten kunnen wel nog niet gesaved worden. En je kan na importen niet meer terug.
16:16 je kan terug na importeren. ongetest maar met vertrouwen. next up is zorgen dat het tempproject gebruikmaakt van al bestaande projecten.
17:18 als er al een project bestond, wordt er niet een nieuwe tempproject aangemaakt.
17:59 gekeken hoe je een functie aan kan roepen als een share gerefresht wordt. Dat kan met Lenses. Maar deze zijn ingewikkeld en moet ik aan Bas vragen.
18:21 van ace lijkt er alleen een .o file te bestaan. Ik snap de Editor text niet helemaal. Dit moet ik ook aan Bas vragen.
-- 5 1/2u

-- maandtotaal februari: 30 1/2u --

do 2-3
11:03 Bas is er niet. Functional lenses googlen.
11:34 ik kan niet meer precies vinden waar ik lenses vond en waarom ik ze nodig heb. Ik had hier wss beter aantekeningen over moeten maken. Ik heb sds.icl gevonden. itasks/itasks/API is the place to be.
11:43 lenses in theorie zijn heel simpel. Alleen worden er parametric lenses gebruikt. het googlen van functional parametric lenses levert een paper op van Bas en Rinus. Het is dus iets specifieks van Clean. Ik heb geen zin om Rinus dit te vragen, so im going in.
13:17 paper gelezen en gegeten. Papers doorwerken duurt altijd langer dan je zou willen. Ik denk dat ik het goed genoeg snap; ik heb het parametric part niet nodig. 
13:31 fk it. Ik kan niet de lens/functie vinden die ik nodig heb en het lijkt me niet zo heel moeilijk om het gwn zelf te maken.
13:42 het is niet zo makkelijk als ik dacht. Tijd om om hulp te vragen.
15:05 gesprek met Rinus gehad. er zit wss een update-notifier in de ace texteditor. Ik weet nu (hoop ik) hoe ik de texteditor aan kan passen (bijv kleurcodering). Rinus raadt mij aan met Laszlo te praten, aangezien hij kan helpen de (editlet? ik weet niet hoe het heet. Iig het ding rondom ace.js wat het omzet naar een itask ding) aan te passen. Mijn project is te afhankelijk van mijn computer en moet flexibeler worden. Dat laatste begin ik nu aan.
15:34 ik kan niet zomaar de cleandir opvragen volgensmij, dus ik wil een optie maken om het aan te passen. Maar ik heb nu college.
-- 4 1/2u

ma 6-3
9:57 project meer computeronafhankelijk maken
10:44 ik wilde halverwege de functie treeEdit opties toevoegen (met >>*), maar dit zorgt ervoor dat selectFromTree halverwege een continue knop toevoegt. Eerst wou ik hierom heen werken door selectFromTree te herschrijven, maar ik bedenk me nu opeens, dat wat ik meemaak niet zou moeten kunnen, als er een goede seperation of concerns is. Ik ga nu terug naar de case, en daarna mensen lastigvallen over hoe onlogisch dit is.
11:03 met Bas gepraat. selectFromTree was gewoon verkeerd geschreven, voor mijn gevoel. Het gaf de kans om de viewInformation af te sluiten, terwijl het nog wel nodig was. Dit kwam niet tot uiting omdat normaal de twee afsluitingen (van de viewInformation window en de searchTree window) tegelijk gebeurden, doordat er een continue achter de functie selectFromTree stond. Ik heb het gevoel dat hier nog wel een belangrijke boodschap in zit (over code conventions en snappen wat je code doet), maar dat is nu niet belangrijk.
11:58 ik heb het gevoel dat ik veel te lang op een veel te klein stukje vastzit. Maar het gedrag dat ik nu heb (een continue knop die een viewinformation afsluit) MOET weggewerkt kunnen worden.
13:27 tussendoor pauze gehouden en gepraat met markus over irritante continues. Daarna verder gewerkt aan het probleem. Ik commit dit even, omdat het een interessant resultaat is, ook al niet het juiste.
13:55 hehe. Het project is computeronafhankelijk (genoeg). Tijd om in de Ace editor te duiken.
14:08 C:\Users\Martin\Documents\clean-classic-itasks-windows-x86-20161223\Libraries\iTasks-SDK\Libraries\iTasks\API\Extensions\Editors
15:32 gekloot met nieuwe versies van iTasks
16:54 Bas heeft Ace.icl uitgelegd en ik ben er al een tijdje naar aan het kijken.
-- 7u

do 9-3
Bas vertelt over jsTrace, een functie waarmee je waardes van javascript op de console kan laten zien.
geleerd voor een hertentamen
12:18 laten we eens naar jsTrace kijken
13:26 ik heb een foutmelding waar ik niets mee kan.
13:37 ik zit vast
-- 1u

ma 13-3
10:38 bas is er niet. Proberen foutmelding alsnog op te lossen. 12u is overleg research internship
10:54 nieuwe clean map gedownload, maar het ziet er zo onherkenbaar uit, dat ik er maar van af blijf. ipdv de laatste commit teruggedraaid. Dat betekent dat ik paths toevoegen gedeeltelijk opnieuw moet doen.
11:02 doh, je moet de clean map downloaden van de clean site, niet van gitlab.
11:17 ik heb de foutmelding nog steeds. rsp_version is either multiply used or not part of this record.
13:18 meeting verplaatst naar 3, omdat mijn systeem overhoop ligt door verschillende versies. nu daarmee bezig. speciale map gemaakt voor benodigde deprecated files. de clean ide is echt een grote hoop meuk. Nu heb ik bijv twee files met dezelfde naam (edClient).
15:20 een hele tijd aangezooid. Maar we kunnen nu cpm.exe aanroepen ipv de library.
17:01 heel gesprek gehad met rinus, bas en tim. Zie todo voor een overzicht.
17:24 todo uitgewerkt en naar huis
-- 7u

do 16-3
10:32 begin aan stap 2 van mijn todo: uitzoeken wat allemaal met Ace kan
15:30 done en rondgestuurd. Door met stap 1: webIDE weer werkend krijgen.
16:52 werkt nog niet helemaal. Start en sluit zomaar cmd-windows. Heap zit onmiddelijk vol. Er moet nog gekeken worden hoe errorfile gevuld wordt.
-- 5 1/2u

ma 20-3
10:57
15:31 ah, slecht log bijgehouden. Ik heb
 - geprobeerd mijn project te fixen. Ik wil dit doen door een batch file te maken waar ik de output in op kan vangen. Dit valt helaas tegen, want ik kan geen batch
 - overleg gehad met het team over mijn editorrecord van Ace. Het werkt met requests en feeder-eater, ipv met states, wat zorgt dat het niet werkt als er meerdere users zijn.
 - de editorrecord geupdatet. Met Bas er over gehad
 - tegelijk een doc gemaakt welke share welke info bevat. Ik moet shares gaan opsplitsen en samenvoegen. opsplitsen: met parametric lenses. samenvoegen: met >+<.
en ik ga nu weer verder met project fixen
17:28 deze batch file geeft de vreemdste errors en ik denk dat hij mij aan het pesten is. Ik ben naar huis.
-- 6 1/2u

do 23-3
9:50
10:13 na nog wat klooien met de batch file op aanraden van Tim een tutorial gaan lezen
13:50 ja, de ide werkt nu met cpm aanroepen als exe. stap 1 en 2 van mijn todo zijn af en ik begin nu aan stap 4: code herstructuren zodat ze op pages lijken.
14:03
-- 4u

ma 27-3
11:33 verder met stap 4
16:02 dingen duren altijd langer dan verwacht, maar ziet er goed uit. stap 5 van todo verwijderd, omdat het probleem van >&> goed rondomheen te werken is. ik bedenk me net dat ik nog niet helemaal klaar ben. Ik wil nog zorgen dat er makkelijker met de redirecttuples omgegaan kan worden.
16:52 wat ik wil kan niet. Op dit moment wordt er aan een page een x-tuple meegegeven bestaande uit tuples van de vorm (Action,funDieEenNieuwePageOplevert). Deze noemde ik een redirect en ik wilde deze kunnen geven zonder dat de tuple geopend hoeft te worden door de page. Ik wou dus een functie maken die dit verborg. Soms wil je nog wat een voorfunctie aanroepen voordat je naar de nieuwe page gaat, dus die optie moet er zijn. Ik wou dus de tuple transformeren naar FunDieEenActionPageTupleOplevert en vervolgens een functie maken die gegeven een ActionPageTuple (dus de argumenten zijn al aan de functie gegeven) een optionele voorfunctie en een tasksteputilfunction een TaskCont maakte. Maar soms levert de voorfunctie de argumenten op die je nodig hebt voor FunDieEenActionPageTupleOplevert, dus dit kan niet.
Nu de taak om alles weer terug te veranderen en dan (eindelijk) beginnen met stap 3, een formele definitie van Page
17:05 alles teruggezet en gecommit. Document Pages gemaakt op drive
17:26
-- 6u

wo 29-3
11:30
16:52 definitie pages en pagestructuur opgeschreven

18:24 beginnen met stap 6, mijn deel van de editlet maken
18:47 lenses zoeken
19:19 halverwege symmetric lens bouwen
-- 6u

do 30-3
10:28
11:46 Bas is begonnen met de Ace kant van de EditorRecord. Hij is al weg, maar ik heb een vraag voor hem. Als ik aan mijn kant de tijd wijzig, is dat server side of client side?
11:57 de symmetric lens is een mapReadWrite over een samenvoeging geworden. Ik ga nu gewoon bovenaan beginnen bij 'plan for the webIDE'. De eerste stap is tabs.
12:52 tabs bevinden zich in de iTasks/UI/Layout folder. Ik hoop hier een uitleg oid te vinden
13:46 het is weer eens meuk. Aangezien Layout een Class is, is er niet echt een duidelijk type er van (vind ik). Er is een voorbeeld van Tabs in manageWorkFlows, die gebruikt wordt in BasicAPIExamples, maar hier spelen zoveel dingen tegelijk dat het een hoopje zooi is. Dit gaat m niet worden zonder goede uitleg, dus ik ga zoeken naar papers en als dat niet lukt Tim om hulp vragen.
14:54 met hulp van Rinus en goede hoop trial-error heb ik tabs werkend! zie tabs.icl. Mijn oorspronkelijke plan was om als je een andere tab aanklikte, de ace editor van lens veranderde. Maar alle tasks in tabs werken parallel. Dus dan zou ik meerdere ace editors open hebben. Dit is niet wat ik wil en hiervoor moet ik een manier vinden om er rondomheen te werken.
15:04 er valt niet makkelijk rondomheen te werken. Maar mss is het geen probleem dat we meerdere Ace editors hebben, aangezien ze allemaal over dezelfde share(s) werken.
15:42 tabs zou nu moeten werken. Mijn functies hebben lelijke namen, ik weet hier nog geen goede oplossing voor. Ik kan de applicatie niet testen, want ik heb Bas zijn deel van de Ace editor nog niet. Mss kan ik een mockup maken, maar ik heb hier geen zin in. Next step: using Clean's color syntax.
18:20 highlight rules gemaakt. Er is ook nog een Mode nodig, maar ik weet niet precies hoe dit moet. Highlight rules opgestuurd naar Bas. Wat jammer is, is dat ik geen manier zie om gedefinieerde functies te highlighten. Next up is completion by library search, maar die skip ik maar even. Next up is foutmeldingen bij de juiste regelnummer geven.
18:30 er bestaan zogenaamde workers in Ace, die foutmeldingen geven. Hier moet ik het een keer met Bas over hebben. Ze zijn geschreven in (volgens mij JS) niet-Clean, maar mss kunnen we ze wel Clean functies meegeven. Het is mij onduidelijk hoeveel workers kunnen, maar wss zijn ze readOnly error/warning-generators.
18:35 zu hause
-- 8u

-- maandtotaal maart: 50 1/2u--

ma 3-4
10:06 Bas de twee vragen vragen
als ik aan mijn kant de tijd wijzig, is dit server side of client side? De reden voor deze vraag: ik wil de tijd wijzigen als ik m update.
workers
10:12 antwoorden:
server side, de Ace editor gaat tijd ook server side bijhouden
workers lijken Bas interessant. Ik mag gaan uitzoeken hoe ze precies werken.
15:05 workers worden aangeroepen. Als ik die aanroep kan stoppen en ipdv een functie kan geven die errorstructarrays kan geven, dan heb ik wat ik wil.
pauze gehad en daarna gesprek over pages. De reden waarom ik dit moest opschrijven vond ik onduidelijk, maar het kwam er op neer dat ze gewoon wilden weten waar ik mee bezig was. Bas merkte op dat ik een highlight file had opgestuurd en geen mode file. Die moet ik nu maken (en testen). Daarna nog lang gehad over de browser back button. Dit vind ik op zich wel interessant, aangezien het op het eerste gezicht mij geen moeilijk probleem leek. Uiteindelijk ging Bas opzoeken hoe mensen het in angular js regelden, maar ik zie dat hij daar nu mee gestopt is, dus ik weet niet hoe dit zit. Ik wil hier zelf nog even naar kijken.
15:14 als je 'angularjs back button in one page' googlet, is de eerste reactie iemand die een single page state machine heeft, waar hij back buttons over wil. Dit is heel gelijk aan wat ik had met mijn pagestructuur. Zo op het gezicht lijkt mij dus de beste oplossing van het probleem pages afdwingen indien je gebruik wil maken van de back button.
tijd om de mode file te maken.
16:20 door een stomme fout en slechte errorgeving heb ik een uur gedaan over iets dat 10 minuten zou moeten kosten. Ik was vergeten foldingrules te maken. Next: kijken hoe workers worden aangeroepen.
16:58 bas is tevree. Proberen op github te syncen, want de vorige keer gaf het conflicts
17:06 duck programming. Bas kijkt mee en het lost zichzelf op.
Bas heeft zijn kant van de Ace editor af (afgezien van annotations). En nightly built.
17:10 aan het kopieren. 
17:24 gekeken naar het nieuwe type van de Ace editor. Annotations en Shortcuts worden nog toegevoegd.
-- 7 1/2 u

zo 9-4
17:29
18:04 nooit vreemde dingen in github proberen als je moe bent. De pagestructuur zorgt ervoor dat informatie verzonden over pages nogal moeilijk te veranderen is. Ik had iets veranderd en wou ipv terug te veranderen gewoon de vorige git commit loaden. Maar nu heb ik vier reverts in mijn geschiedenis en per ongeluk de ace lib weggegooid. En ik ben weer terug waar ik was.
-- 1/2u

ma 10-4
10:40
12:30 ik heb weer iets semi-werkends. Maar je ziet niet dat er een tab-systeem gebruikt wordt, want er is standaard maar 1 open. En de errors update niet voor onbekende redenen. En de cmd window flitst irritant. Ik ga nu eten halen, maar volgende stappen wordt uitzoeken waarom errors niet update, irritante cmd window wegwerken en meerdere files kunnen openen.
12:45 de reden is dat hij de icl file probeert te openen ipv de project file
13:12 of ik tempfiles moet gebruiken of niet is een ongoing internal discussion. Om de zoveel tijd vergeet ik hoeveel gedoe het is om met tempfiles te werken (ze wijzen dan nog steeds naar de originelen) en denk ik van, he dat kan best wel eens handig zijn. Ik maak nu het besluit: iets in de editor veranderen, verandert meteen de file.
13:24 zou nu errors mee moeten updaten. Ik heb nu bespreking.

13:59 bespreking was korter dan verwacht. Maar het hok zat op slot en ik moest eerst een sleutel regelen. Donderdag ochtend ga ik langs ingrid voor een sleutel.
14:36 errors update weer en irritante cmd window is magisch verdwenen (je hoort mij niet klagen). Maar alle newlines worden er uit gegooid.
14:46 werkende ide. Maar hij lijkt alleen te updaten als ik iets doe, wat vreemd is, want dat heb ik niet geimplementeerd.
14:52 aantje gemaakt over tabs. Nu zorgen dat de startpagina afhangt van de sharedstore contents.
15:02 op dit moment wordt de filename zonder path als key in contents gebruikt, maar met alleen die info kunnen we geen editor starten. Dit moeten we dus wijzigen door het hele project. Ik weet nog steeds niet precies hoe ik de editor wil vormgeven
15:14 de vormgeving wordt echt een flink stuk anders. Elke file krijgt een eigen save-as button. Voor het gemak kan er maar 1 project onthouden worden. Deze krijgt een eigen share.
15:35 man man man, ik ben helemaal het overzicht kwijt. als we een allTasks maken, dan willen we er een maken voor elke file in contents. Eigenlijk is het niet nodig om de lines ook te onthouden in contents, aangezien we toch elke keer de files saven. Nee grapje, is wel nodig, want anders moeten we constant saven ipv om de seconde zodat we kunnen compilen. Om zo'n editortask te maken heb je alleen de filename nodig, want de contents moeten verkregen worden uit de sharedstore.
15:44 als ik het goed heb is mijn allTasks nu niet dynamisch.
15:49 Aan Bas gevraagd. Wat ik nodig heb is de parallel functie. Deze maakt het aantal tasks dynamisch. De tasks zijn niet shared (dat kan ook niet)
16:46 In tabs.icl kun je nu parallel taken toevoegen en stoppen, terwijl ze worden weergegeven als tabs.
16:51 iedereen gaat. ik ook

19:44
20:06 om te zorgen dat mijn parallel taken updaten als contents verandert, hebben we een mapReadWrite nodig, als ik het goed begrijp.
20:13 er is een functie voor: taskListState
20:19 ik heb geen idee hoe ik dit zou moeten doen
--7u

do 13-4
10:19 het lokaal is dicht en iedereen is weg. Ingrid is er vandaag niet. Irritant
10:24 taskliststate wordt gebruikt in BasicAPIExamples in line 581
10:26 ah, als ik het goed begrijp maak je een Task specifiek voor het in leven houden van de sharedtasklist. Prima.
11:25 project werkt weer. Als er nu al files in de contents share zitten, opent het project gelijk de editor. De tabs hebben nog geen namen. Het irritant flashende window is terug. Tabs als het goed is nog niet dynamisch.
11:44 nieuwe functie gemaakt die het flashende window op zou moeten lossen. het is er nog steeds, maar errorstate is broken. Ik ga kijken hoe Rinus het gedaan heeft.
11:46 die is bezig. We slaan dit even over en gaan door met tabs
11:47 de project is oude versies van mijn files aan het opslaan. Dat had ik niet verwacht en is nogal irritant. 
11:51 De reden hiervoor is dat om te kunnen compilen, hij eerst alle open files opslaat. Het gaat er van uit dat het de laatste versie heeft van de file. Maar dat is wel een aanname die nodig lijkt te zijn, dus dit probleem is niet zomaar op te lossen.
12:00 er zitten files in contents, maar hij opent nog steeds in choosefile
12:04 pauze

12:47 Rinus heeft een uitleg gegeven van hoe de tasklist dynamisch kan.
13:39 dit is echt heel ingewikkeld
14:52 ik heb geen idee hoe ik dit zou moeten doen. Voor removeTask heb ik een TaskId nodig, maar ik heb geen idee hoe ik die van een task zou moeten vinden. Je hebt namedEmbedded, maar ik weet niet hoe je van name naar TaskId gaat.
15:08 even nagedacht over hoe ik nu verder moet en of ik niet er rondomheen kan werken. Maar het beste is dit gwn even te laten rusten en te kijken of ik color highlighting werkend kan krijgen.
15:15 werkt niet. Geen idee. Kijken of ik Rinus de code voor zijn filesystem kan vragen.
15:55 rinus heeft zijn code opgestuurd en uitleg gegeven. Hij heeft een boel gedaan. En dit ga ik allemaal jatten :p. En hij heeft uitgelegd hoe ik aan de TaskId kan komen. Ze staan namelijk op volgorde. Op deze manier wordt de updateTabs functie wel veeleisend qua computerkracht. Nee, trouwens dat valt wel te fixen met een goede ifValue.
17:14 ik denk niet dat Rinus' manier werkt. Het probleem ontstaat wanneer de watch functie triggered wanneer de sharedtasklist en de locally shared tabname list verschillen. De tabname list is nodig om van tabnames naar taskids te gaan en andersom. Maar ik bedenk me nu dat ik ook gewoon de taskids in de tabname list kan bijhouden. Er is weer hoop :)
18:28 het compilet nu, maar de server is te druk met rekenen om iets te laten zien. Als je updateTabs outcomment, doet hij het wel, dus updateTabs is hier op een of andere manier verantwoordelijk voor. updateTabs heeft geen invloed op contents. Mss is hij gewoon heeeeel erg sloom, maar dat vind ik moeilijk te geloven.
18:37 ja ik heb geen idee. zu hause
-- 7 1/2 u

do 20-4
10:27
12:46 net veel te lang naar een probleem staan staren, samen met Marcus, en we kwamen er niet uit. Wat uiteindelijk de fout bleek te zijn, was dat een functie gedefinieerd in een where een object referencete, waarbij die uitging van een heel ander type. Dus daarom kreeg ik seemingly uit het niets een type error.
13:31 gegeten
13:39 werkt, maar je ziet de tab voor de updateTabsfunctie, terwijl deze eigenlijk verborgen moet zijn. Kijken in BasicAPIExamples of dit al eerder opgelost is.
14:02 ik kan het niet vinden, nu laten rusten en later Bas vragen. Next up, Rinus nieuwe filesystem doorkijken en verbeterpunten doorwerken, daarna zorgen dat hetgene wat geselecteerd wordt, onderaan het scherm in een eigen tab wordt weergegeven, zodat ik daar uiteindelijk Cloogle resultaten kan laten zien, en dan Mart mailen.
14:27 Rinus filesystem runt niet. Maar we kunnen wel naar de code kijken 
14:44 dat valt tegen though, zonder werkende code.
15:38 ik zou zweren dat Rinus automatic error messages had, maar ik heb zijn compile overgenomen en hij genereert een flashing window. Rinus is in bespreking, dus gewoon laten en verdergaan met showen wat geselecteerd is.
16:15 op een of andere manier, als je de editorpage wil verlaten, dan crasht de >^* operator in updateTabs. Waarschijnlijk komt dit doordat de share die gewatcht wordt dan niet meer bestaat, maar dat is een lousy reden om te gaan crashen. Volgende keer Bas vragen wat ik hier mee moet.
16:19 oke, mijn oorspronkelijke doel was dat er een local share was met de editor info. Maar met meerdere tabs zijn er dus ook meerdere local shares. Dat is niet erg, zolang we dan maar de local share kunnen krijgen, waar we op dit moment naar kijken. Maar het is helaas niet mogelijk om te zien naar welke tab je kijkt. Dat geeft dus een probleem dat zo ik nu zie op twee manieren op te lossen is. 1) we maken een global share met alle editor info. Dat kan niet, want we hebben mss meerdere sessies en geen manier om die uit elkaar te houden. 2) we maken helpwindows per filenametab
18:29 tabs gemaakt van de helpwindows en showSelected toegevoegd. op github gezet
-- 8u

ik kan mss het runtime crashen voorkomen door de updateTabs functie eerst te sluiten.
voor cloogle integreren is het mss beter eerst door te kijken op de cloogle github (zie cloogle.org) om te ontdekken wat al mogelijk is met de API.

-- maandtotaal april: 30 1/2 --

ma 1-5
12:43 late start vandaag. Eerste stap wordt het runtime crashen voorkomen.
12:58 de updateTabs functie eerst sluiten kan niet op een mooie manier gedaan worden en werkt wss ook niet.
13:49 het project test_ifvalue_crash gemaakt om de crash te testen. Twee belangrijke tips van Bas gekregen: 1) als je watch niet met >^*, maar met forever en >>* gebruikt, kan hij niet per ongeluk twee keer triggeren en is hij stabieler. Mss fixt dit het crashen. 2) watch met step combinator genereert een window, maar negeer dit, want dit is nog een bugje.
13:59 als je twee browser instances opent en in een typet, dan delete hij de text. Dit komt wss door slechte mapfuncties bij mapReadWrite.
14:22 de file test_mapReadWrite gemaakt om te kijken of mapReadWrite inderdaad de oorzaak is of toch de ace editor. mapReadWrite lijkt precies te werken zoals ik verwacht, dus dan is het wss dat de ace editor de schuldige is. Bas is bezig, dus next up wordt api cloogle doorkijken. Eerst wat eten halen.
14:55 Met Bas er over gehad. de file test_ace_two_browser_instances gemaakt. getest. Het is de ace editors schuld.
14:58 Als je twee browser instances hebt, en je probeert een file te openen, dan blijft hij hangen bij de choosefile page continue button. Hetzelfde geldt voor de editorpage close button. Hij crasht niet, maar wil gewoon niet verder.
15:23 Ik heb de updateTabs functie even uitgezet. Op dit moment geeft hij een Data.Maybe.fromJust error. De enige invloedrijke fromJust bevindt zich in eiAndContents2ErRead.
15:37 Ik heb een case toegevoegd dat de lines alleen maar de tekst "henkig" bevatten als de contents niet gevonden kunnen worden. Maar als ik de app start, start hij nu wel gewoon en dat zonder ergens de tekst "henkig". Als ik op close duw, geeft hij de runtime error: "rule mrange2text in pageEditor does not match"
15:44 deze nieuwe foutmelding wordt gegeven door viewSelection, een helpwindow. Dit is best logisch, want als je closet, dan gooi je eerst de file uit contents voordat je de task sluit.
15:49 dat opgelost. Het werkt nu (redelijk), maar updateTabs moet natuurlijk wel aan.
15:53 en het problem van 14:58 is terug
16:18 Rinus gevraagd waarom zijn filesystem crasht. Nieuwe versie gekregen, maar die crasht ook. Tim kijkt er nu naar. Terug naar probleem van 14:58. Er moet een makkelijkere testversie van te bedenken zijn die ook crasht.
16:36 jeuj, rinus filesystem werkt nu. Minder nuttig dan ik me herinnerde. Het probleem was dat Rinus stacktracing aan had staan, wat betekent dat hij op elke andere computer crasht.
16:57 wss zit er ergens een eternal loop. Een reden zou kunnen zijn dat als updateTabs een editor start, hij niet meteen aan tabs wordt toegevoegd, waardoor updateTabs dubbel triggert.
17:12 we gaan
-- 4 1/2

ma 8-5
11:35 om 14:30 heb ik een afspraak met Camil en Mart
11:54 systeem werkt weer en crasht niet zomaar.
12:04 eten
-- 1/2

do 11-5
10:54 koningsdagpuzzel
12:04 eten

13:02
15:30
-- 3 1/2

ma 15-5
12:02 eerst wat aan een ander vak gewerkt. Verder met de koningsdagpuzzel
17:28
-- 5 1/2

-- maandtotaal mei: 14 u --

-- uren gemaakt in semester: 144 1/2 --

-- uren nog te gaan: 275 1/2 --

wo 5-7
9:08 Eerste keer weer terug na een lange periode waar tentamens voor gingen. Ik loop goed achter. Als ik elke dag van 8:30 tot 17:00 op de uni hiervoor ben (8 1/2 u), dan heb ik 32,5 dagen/6,5 werkweken nodig. Dat gaat lukken.
9:42 tekst doorgelezen en app bekeken. selecteren werkt alleen soms juist, ik meen me te herinneren dat dit aan de Ace editor lag, maar ik zie dat nergens opgeschreven. Wat nog gedaan moet worden: Cloogle koppelen, aant cloogle doorlezen. errorchecking aanroepen zonder flashende window. Ik denk dat ik voorrang geef aan het errorchecking, want daar hoef ik als het goed is alleen nog maar 1 klein dingetje op te lossen en dan hebben we het weer werkend.
10:08 errorchecking weer aangezet. Als je per ongeluk && schrijft ipv -&&- krijg je de foutmelding "near False: cannot unify [..] Bool Task", wat ik een ietwat onduidelijke foutmelding vindt.
10:10 flashing window komt tevoorschijn, maar het errorveld laat geen tekst zien.
10:41 map rommel_test_project gemaakt, in de hoop dat de reden dat cpm een linkererror gaf, kwam omdat ik ook het project open had. Maar nu wordt cpm niet eens aangeroepen ofzo. Geen foutmelding.
Ook todotje gemaakt en aant cloogle doorgekeken. Deze aant zijn sparse, dus dat wordt een uitdaging.
11:02 oke, ik heb de textfiles corresponderend met de stores gevonden (cool). De errorstore updates regularly. Maar er is geen flashing window en de tekst verandert niet. Het lijkt er dus op dat de errorstore wel overschreven wordt, maar met zijn oude waarde en cpm wordt niet aangeroepen.
11:21 ik zat al zo van ik mis een todolijstje, maar ik herinner me net weer dat ik er een op google drive heb. Gelukkig. cpm probleem btw nog steeds niet opgelost.
11:38 ik run out of ideas wat het zou kunnen zijn. Ik ga Rinus' filesystem bekijken en gewoon overnemen wat hij heeft.
12:16 Rinus' filesystem doorgekeken en weet nu ongeveer wat ik over wil nemen.
13:58

14:33 pauze gehad.
15:46 hehe, we zijn nu op een punt waar cpm weer gewoon errors geeft en onze flashende window weer terug is. Ik heb een flink stuk code van Rinus overgenomen. Ik heb het vermoeden dat pageChooseFile gebroken is, maar ik heb geen zin om daar nu naar te kijken. Next up is de flashende window verbergen.
16:17 en gecommit. altijd een gedoe lijkt het wel. Flashende window lijkt me niet te verhelpen, aangezien je een exe bestand niet kan verbergen, tenzij je iets in de code van de exe aanpast. En ik moest cpm.exe behandelen als een black box. Ik zet hem op 'update maar 1 keer in de 2 minuten' en laat het daar op het moment bij.
16:25 eigenlijk geeft het een error zodra ik typ, maar ik ga nu naar huis.
--7u

do 6-7
9:13 waarom geeft het een error zodra ik typ? subscript error in !!, index too large. Het gebeurt in het tekstselecteren gedeelte in pageEditor.
9:39 de functie vbselectie gemaakt en getest dat selectText precies zo werkt als ik verwacht. Het probleem is waarschijnlijk dat als ik iets typ, ace sneller updates dan de contentstore, waar de selectie op uitgevoerd wordt. Gewoon guards opzetten dat niets out of bounds gaat.
10:06 dat opgelost, maar errorHandling werkt nog niet zoals het moet. De errors worden niet geupdatet. Verder sluit de contentwindow voor wat voor reden dan ook elke keer als cpm wordt aangeroepen
10:30 pauze

13:40
13:49 ah, ik heb hem. De files worden niet gesaved voordat cpm aangeroepen wordt. Maar het leek wel alsof ze gesaved werden, aangezien de contentstore wel hun nieuwe inhoud onthield.
14:14 en committen
14:20 en beginnen met cloogle integreren
15:17 cloogle doorgekeken en geprobeerd cloogle.org te runnen, maar het importeert een niet-bestaand general.dcl, beweert de compiler
-- 3u

vr 7-7
9:57 vandaag na 12 zou ingrid berenbroek op de uni moeten zijn, dus dan heb ik een sleutel. ik ga overal de ref naar general.dcl verwijderen en dan kijken welke functies missen.
10:29 hij mist wel meer files, o.a. typeproperties. Peter gevraagd of hij het wist (nope) en vervolgens een mailtje naar mart en camil gestuurd. De vraag is wat ik nu kan gaan doen. Ik ga een nieuwe branch maken waarin ik alvast cloogle aanroep alsof die werkt. En in een andere branch ga ik (later) gewoon het google drive lijstje afwerken.
10:37 damn dat is een snel antwoord
10:45 ik begin het gevoel te krijgen dat cloogle alleen/het best werkt op linux, dus dan kan ik beter nu die overstap maken. 
12:34 op linux, ik krijg het niet voor elkaar om cpm juist aan te roepen. John om hulp gevraagd, die ga ik zo weer om hulp vragen.
12:55 het volgende commando werkt: /home/martin/Documents/clean-bundle-itasks/bin/cpm ./pagesWebIDE.prj
hij kan ace niet vinden, maar die is er wel gewoon
13:23 hij herkent worldIO niet als term. Ik heb geprobeerd syntax highlighting toe te voegen. Tim had een file waar het mee kon, maar die is er niet en ik heb geen zin om een mailtje te sturen. Ik heb ook nog een file, even kijken wat voor type dat is, en of die te gebruiken is.
13:28 die van mij werkt alleen voor ace webbased en is dus niet te gebruiken in gedit ofzo. toch maar een mailtje sturen
13:41 het lijkt alsof worldIO niet nodig is omdat Linux file IO op een heel andere manier oplost. Ik hoop te vinden hoe in de cloogle files
13:52 ik weet niet hoe dit gebeurt, ik wil het vragen als er mensen zijn en er weer aan werken als ik syntaxhighlighting heb. tijd om te comitten op github en door te gaan met de qol branch. opmerking: find in files is hier: grep -r term ./ in de juiste map.
13:58 ik weet niet hoe ik dit commit, aangezien ik het niet van github afgehaald heb. Dus laat maar even zitten, want ik heb toch nog niet echt iets bereikt.
14:03 weer terug op windows. Laten we tabs namen geven.
14:30 dat viel best mee. Lekkere trial and error. Volgende probleem: als ik op import paths click, crasht de app meteen.
14:43 opgelost. next: chooseFile heeft geen cancelbutton
15:03 wth, als ik een file open in choosefile herkent die hem niet, maar als ik het pad bekijk, is het gewoon een compleet legitiem pad.
15:11 ah, verschilletje tussen wat ik meegaf en wat ik liet zien als pad
15:25 chooseFile heeft nu een cancelbutton. Next: create new file in de webide
15:51 ik ga nu naar huis. Todo: maak file pageCreateFile, waar je een path en een filename geeft, en hij een implementation module en een definition module aanmaakt en de implementation module vult met wat standaardtekst.
-- 6u

ma 10-7
10:11 volgens ingrid komen er wel nog mensen, maar wss later pas. Rinus is er wel. Ik ga er vanuit dat Rinus het worldIO probleem niet kent (hij doet geen Linux), dus we gaan lekker verder met de qol-branch.
11:35 de uitdaging is om een folder te selecteren en een filenaam in te kunnen vullen, zonder dat je op continue bij de folder moet klikken, want dan verdwijnt dat window en dat is lelijk.
De reden dat de folderselection task eerst klaar moet zijn voordat het de value door kan geven, is omdat het eindigt met een knop. Deze knop moeten we dus naar buiten brengen naar na folder en filenaam selecteren. Dat voelt niet helemaal modulair. Ik heb nu al 5 searchInTree functies en dit zou modulairder moeten kunnen. Ik ga hier een aantje over maken, misschien vindt Bas dit interessant.
12:45 woordenboek.prj gemaakt om even wat te experimenteren, en een aantje gemaakt. De conclusie is wss toch dat ik gewoon de functie aan moet passen zodat het een withShared gebruikt. Toch zou ik het wel leuk vinden om iemands mening hierover te krijgen.
13:00 snel even eten gehaald. de selectFromTree functie gebruikt al een withShared. Dat maakt het alleen maar vreemder, want waarom is die laatste stap dan niet gemaakt.
14:00 moeilijker dan verwacht. Bas is er. Zodra hij tijd heeft eens vragen wat het verschil is tussen editSharedSelection en editSelectionWithShared. In de tussentijd weet ik eigk niet zo goed wat ik kan doen. Alvast volgende stappen uitzoeken? Vraag aan Bas: wat is er gebeurd met de menus? Zijn die stuk?
14:14 duurt te lang dit. Ik heb iemands expertise nodig.
14:21 er is facking niemand hier! Waarom ben ik hier dan! Ik kan hier niet uit mijn neus gaan zitten vreten, dus ik comment mijn selectFromTree, plak de oude er weer en ga verder met iets anders.
14:30 was het mogelijk om foutmeldingen te geven in Ace? Zoja, dan heb ik dat nodig. De cleanversie van Ace die we nu hebben kan het niet.
14:45 een tijd geleden moest ik uitzoeken hoe workers werken, maar ik heb daar geen conclusie over. Ook staat er op de drive in wat ik aan Bas voor Ace vroeg, dat ik dit via Clean ging regelen. Natuurlijk ontdekte ik de workers pas later, maar ik denk dat dit de beste optie is. Dan is nu mijn taak vakjes te maken onder elkaar van dezelfde grootte als een tekstregel, en die kunnen vullen met functies. Nu ik er over nadenk is dat zonder hulp niet haalbaar. We kijken verder.
15:48 bas is er en beantwoord vragen! De menus die missen is bekend, en staat niet hoog in het todolijstje.
~16:50 ik weet dat ik tot deze tijd bezig was, maar ben het wss vergeten te noteren.
-- 6 1/2u

do 13-7
7:32 dit is de laatste dag voor kamp dat ik hieraan werk. Er mist een deel van mijn log, dus ik weet niet precies waar ik mee bezig was. oh right, ik had alleen Atom werkend toen mijn tijd al weer op was.
7:44 directory functions werken niet helemaal lekker. Ik ga de locatie van cpm dus maar even hardcoden, totdat ik een oplossing heb.
8:21 WARNING: Cannot get directory info from file: /home/martin/Documents/clean-bundle-itasks-windows-x86-latest/research-internship/eigen_filesystem_leesbaar/pagesWebIDE-sapl/../pagesWebIDE-sapl/../pagesWebIDE-sapl/graph_to_string_and_descriptors.sapl
8:24 ubuntu werkt even niet, dus hier verder. Nu we weten dat de reden, waarom de 'up' functie in selectFromTree niet werkt, is door een bug, kunnen we gewoon verder alsof het gewoon wel werkt. Alle aanroepen van selectFromTree-like functions vervangen door aanroepen van selectFromTree.
8:39 we willen onze data als een tree, zodat we het kunnen laten zien. Maar zodra we iets geselecteerd hebben, willen we het als een path. Nu is het probleem dat we deze transformatie pas kunnen doen nadat er iets geselecteerd is, maar dan hebben we bepaalde data niet meer. Tenzij we het opsplitsen in 3 functies: createTree :: task Shared Tree, selectFromTree :: Shared Tree -> Task [Int], TreeToPath :: (Shared Tree) (Task [Int]) -> (String,String)
9:15 functies hebben iets ander type, maar verder gaat het wel prima. Ik heb alleen het idee dat de originele functie iets heel onlogisch doet. Het springt heel de tijd van dirs naar sdirs en terug, en ik vraag me af of dat wel nodig is.
9:26 het komt er op neer dat dit heel moeilijk uit te zoeken is zonder te kunnen testen, wat pas kan als de bug is opgelost.
10:45 bezig geweest met autoWrite. werkt met een watch functie, wat altijd vreemd is. pauze

12:02 
12:22 autoWrite schrijft alleen soms een spatie en geeft een stackoverflow. Me er al een tijd op doodgestaard. Ga nu overal checkpointtasks toevoegen.  
12:29 de stackoverflow komt doordat ik de cursor terug naar de functieregel laat springen en de conditie opnieuw geldt. Het eerste is intended behaviour, maar de conditie zou niet moeten triggeren. Ook verklaart dit niet waarom ik nog steeds mijn cursor kan bewegen daarna.
12:36 oh leuk. Als ik de app start, dan geeft hij een index-out-of-bounds listerror.
13:30 het doet het gewoon niet. En dit is heel moeilijk te testen, dus ik ga gewoon iets anders doen.
13:35 errorchecking op 10 seconden gezet ipv 2 minuten zodat ik makkelijker iets met de errors kan doen. Maar het blijkt niet te updaten.. zucht.
13:39 het probleem is dat de icl file niet geupdate wordt. Voor mijn gevoel had ik dit al opgelost.
13:57 oke, error updating doet het weer en deze keer echt. Als een var niet voorkomt, is de foutmelding: "Error [rommel.icl,5,]: henk undefined". Ik wil nu dat het de optie geeft deze te maken. Eerst moeten we uitzoeken hoe ik twee windows naast elkaar krijg (zodat het er ook een beetje redelijk er uit ziet). Rinus filesystem heeft dit, dus we kijken daar.
14:22 pauze
-- 5 1/2 u

-- totaal na kamp: 172 1/2

-- te doen: 247 1/2 uur

ma 24-7
8:09 ik moet een betere logstructuur regelen. Ik zit nu op ubuntu en kan nu niet bij de windows partition aangezien die aan het hibernaten is. Dat betekent dat ik niet bij de log kan. Ook wil ik de beschrijving van dit vak wel weer eens een keer zien. Daarna wil ik kijken waar ik gebleven ben.
8:32 awkward. Ik ben me vergeten in te schrijven voor het vak. Blijkbaar had ik in week 1 een mail moeten krijgen waarin ik aangaf wie mijn supervisor was en wat ik wil doen. Zodra Tim er is, het hier eens met hem over hebben. En hopen dat dit geen problemen (zoals invalidatie van mijn werk) oplevert.
8:36 project gerund. Ons laatste probleem was dat we ergens een file aanroepen die niet bestaat. Taak is nu om alle files die aangeroepen worden van te voren te checken.
9:05 als het goed is checkt directoryBrowsing nu al van te voren of de file bestaat. Toch geeft dit de error. CloogleDBFactory.icl doet niet aan checken, toch werkt deze wel zonder problemen. En StdFile doet ook niet aan checken. Nog even directoryBrowsing doorkijken en daarna wat testen met een kleiner project.
9:36 oke, test_fileIO.prj gemaakt. Deze probeert een file te lezen waarvan ik van uit ga dat die bestaat (".\tabs.icl") en output deze. Maar de uitkomst is leeg. Er zijn twee mogelijkheden: oftewel, de file werd gevonden, maar kon niet gelezen worden, ofwel, de file is niet gevonden. We testen het onderscheid door een file aan te roepen waarvan we zeker weten dat hij niet bestaat.
9:43 hij herkent de file niet.
9:48 oke, we hebben een werkende fileIO. En we hebben de error niet kunnen recreeren. Dus we hebben nog geen idee waar de error vandaan komt. Next step is parts van ons project uitschakelen totdat het weer werkt.
10:15 het probleem zit (minstens) in pageChooseFile
11:22 het probleem zit in de functie fetchDirectories (maar niet in readDir)
11:55 ugh, geprobeerd de definitie van fetch te vinden, door een mooie grep te schrijven, maar niet gevonden, dus wss is fetch een macro. Ik mis de ctrl-l functionaliteit.
11:59 -__- fetch was als hulpfunctie gedefinieerd recht eronder. pauze

12:46 eind pauze.
12:52 we gaan gewoon stap voor stap uitschrijven wat er gebeurt.
13:30 ik heb hem. readDir geeft ook . en .. mee. Next up is alles wat ik gecomment heb weer aan zetten en kijken of dit ook daadwerkelijk het probleem heeft opgelost.
13:48 het lost het probleem niet op. Ik ga kijken hoe het komt dat readDir in deze map komt. Maar atom crasht constant, dus we gaan kijken of de computer updaten dat oplost.
13:52 goh, blijkbaar kun je gewoon doorgaan als ubuntu update. ik laat mijn project wat meer op het scherm laten zien en suddenly crasht hij niet meer. Eens kijken of hij nu opeens werkt als we dat weghalen. ja hoor, nu werkt die gewoon. Blijkbaar moest mijn computer gewoon een keer restarten? klinkt onlogisch. Mijn atom is helaas nog steeds heel goed in crashen. Mss omdat ik een prj file er in geopend heb?
14:22 crasht in functie getContents in pageChooseFile
14:29 </> ipv +++
14:37 tabs zijn gebroken in ubuntu. Hij geeft ze ipdv gewoon onder elkaar weer. Maar laten we visuele problemen uitstellen. Waar waren we voordat ons project constant crashte?
14:43 beetje teruggelezen en we waren niet echt ergens. De eerste stap naar cloogle moet nog gemaakt worden. Next up: cloogle aant doorlezen en kijken of we een db kunnen maken.
14:58 docker-compose is zijn ding aan het doen om een cloogle server te maken. fancy fancy.
15:34 er ging iets fout. onduidelijke foutmelding, maar ik ga er van uit dat de reden is dat ik er al op windows een beetje mee gekloot heb. Nieuwe fresh copy gedownload. Maar eerst geleerd over git op ubuntu
16:15 faalt nog steeds. Een tijd voor me uitgestaard, errors doorgekeken, opgezocht wat Bash is, en mart en camil een mailtje gestuurd. Next up: dit laten voor wat het is en verdergaan op windows.
16:51 wat verder gesleuteld aan solutions laten zien als er een foutmelding wordt gegeven.

di 25-7
8:03 op ubuntu. Ik heb een mail van Camil over wat er fout ging bij cloogle.
8:15 het lijkt er op dat het werkt!
8:41 het is nog steeds bezig en ik kan niet echt iets anders doen
8:44 het werkt! ik heb een werkende frontend. next up:
	uitvinden hoe ik vanuit mijn eigen project bij de gemaakte db kom.
	uitvinden hoe ik dan vragen stuur en de antwoorden weergeef
	uitvinden hoe ik dingen toevoeg aan en verwijder uit de db
9:07 ik heb findfunction nodig om een vraag te sturen (dat is iig een goed begin), maar die heeft een db nodig, die ik dus ergens vandaan moet krijgen.
10:47 mailtje gestuurd naar mart en camil over waar hoe ik een database laad en geprobeerd ipdv in mijn project een database te maken. De db is een derived abstract type (volgens mij betekent dat dat er zo'n ! voor staat) en mag dus niet als itask gebruikt worden. Ik kan nu de ! overal verwijderen, maar het lijkt mij slimmer om gewoon even te wachten op wat mart en camil te zeggen hebben. Dus door op windows.
10:56 windows. verder met offerSolutions
12:14 gesprek met Tim over zorgen vanuit Rinus over de validiteit van mijn project. Mijn volgende taak wordt op papier te zetten een afgebakende definitie en doel van mijn project en een halverwege-observatie. Daarna wat gepraat over wat Tim maakt.
16:53 aw, bijna klaar met midterm review

wo 26-7
8:33 verder met midterm review
10:27 klaar. door op ubuntu met de mail van Camil
10:38 Camil heet Staps en niet Stappen
11:00 bezig met de CloogleDB laten zien in mijn project. Net ontdekt dat het ook mogelijk is om een record type abstract te laten zien. Dus dan kun je niet in de recordfields kijken als daar geen hulpfunctie voor in dezelfde file voor is. Dit is een optie die we toe moeten voegen als we de dcl gaan abstraheren.
11:27 ik heb het probleem dat als ik alle dependencies van een CloogleDB wil classderiven naar een iTask, ik dan opeens Type en Kind moet deriven, wat natuurlijk niet kan. Ik heb hier een tijd naar zitten staren, maar herinner me opeens dat ik dit probleem een keer gehad had tijdens de koningsdagpuzzel en dat Markus me toen hielp het op te lossen. Ik weet niet meer wat de oplossing was, maar hopelijk kunnen we het terugvinden in de koningsdagpuzzel.
11:32 nope
11:36 mail naar Bas gestuurd. Wachten op antwoord of wachten op Markus om het hem te vragen. Door op Windows
11:46 door met 'if a var is unknown, give the option to make it'. Ik meen me te herinneren dat ik hier iets verder in was. Clean waarschuwt niet als ik iets niet gesaved heb?
12:14 pauze

12:53 eind pauze
13:27 error waar we wel een makkelijke solution voor kunnen maken: Error [..icl,47,funnaam]: function body expected. Nu ik er over nadenk, ik kan wel veel zijsituaties bedenken waar je het anders wil.
14:48 pauze

do 27-7
8:06 mail checken
8:14 geen mail terug van Bas, maar wel van Tim over mijn project plan en midterm review. Hij heeft een boel punten haha.
9:00 een betere project plan. Nu nog de midterm review
11:03 opgestuurd. door met 'if a var is unknown, give the option to make it'.
11:41 Markus kwam net binnen. Gevraagd of hij mijn foutmelding qua Cloogle herkende. Nee. Laten zien, maar het was een andere foutmelding. Deze wist hij ook niet. Opgestuurd naar Bas.
14:04 update. Nog steeds bezig met 'if a var..'. Een uitdaging hierbij is dat cpm alleen de filename geeft en niet de filepath. Ik heb op dit moment alleen een oplossing als de file geopend is (en daar ben ik halverwege mee). Later wil ik mss toevoegen dat het ook niet geopende files kan vinden, maar dit wordt dan in samenwerking met Cloogle.
14:59 de functie placeText werkt niet correct. Het geeft een lege file met het aantal enters gelijk aan het aantal enters in de bedoelde te placen text. Dit kan aan placeText zelf liggen of aan setContent
15:12 mail gecheckt. mail terug van Tim dat midterm review wel prima is en heb ik nu gestuurd naar Rinus.
15:40 ik heb een fout en ik kom er niet uit. Ik ga het eens uitschrijven in aant.
15:51 als je viewInformation op een task [String] doet, laat het niks zien. Dit is lichtelijk irritant en moeilijk te debuggen gedrag.
16:01 maar dat lost het hoofdprobleem niet op. En dat is dat als ik placeText doe, (daarna sluit de file) en daarna de file open, dan zijn er extra enters in de file verschenen, maar niet de bedoelde tekst. Stap voor stap in aant.
16:15 eigenlijk vrij logisch. Aangezien de file gesloten wordt, wordt hij niet meer gesaved. Maar dit is maar een gedeelte van de fout. Blijkbaar, als je een file sluit en opent, verdubbelt die alle enters. Ik zou zweren dat ik dit al lang opgelost had.
16:20 het moet fout gaan bij het openen, want saven doet hij constant en ik zou het gemerkt hebben als er dan elke keer enters bij kwamen.
16:36 er gaat ook iets fout bij het saven. De window wil niet sluiten. Er lijkt eigenlijk uberhaupt niet veel te werken op deze manier.
16:51 oke, het feit dat er extra enters tevoorschijn komen bij het saven, alswel dat het savewindow soms niet sluit, zijn dingen waar ik geen oplossing voor zie en die ik liever negeer. Nee serieus, ik zie geen reden waarom dit zo werkt en heb er ook geen oplossing voor. Dan het probleem van placeText in het geval dat ik een solution voor een error probeer op te lossen: ik kan niet meer bij die fout komen. de cpm-aanroep lijkt ook iets harder te flippen dan normaal. Ik heb geen idee
16:55 naar huis.

vr 28-7
9:37 gisteravond mail gecheckt en geantwoord. s'ochtends mail gecheckt. Nog geen antwoord waardoor ik verder kan met Cloogle. Gister mijn werkdag afgesloten met wat unexpected gedrag. Deze ga ik in testfiles namaken en dan opsturen naar Bas. Ook moet ik maar eens een lijst van feature requests gaan maken in aant.
De testfiles bevatten:
	- savewindow sluit niet
	- file saven en openen genereert extra enters.
daarna moet ik er nog achter zien te komen wat er ook al weer fout ging bij placeText.
9:49 feature request lijst gemaakt. laten we beginnen.
9:55

10:43 eind pauze
10:48 observed: als ik saveAs klik, verschijnt er een window die mij de optie geeft om te saven, met de knippen save en cancel. Als ik op save duw, verdwijnt SaveAs.
11:30 door alles in stores te doen en door gewoon >>* ipv >^* te gebruiken, is het probleem van het nietsluitende window opgelost. Het probleem van extra enters kan ik niet repliceren, maar mss is dat magisch verdwenen als ik het eerste probleem fix.
11:37 doorgevoerd in grote project. Werkt als een tierelier. Problemen die nog opgelost moeten worden is dat de tab zijn naam behoudt en dat hij niet verspringt naar een andere tab (maar dat wordt wss veroorzaakt door de naamwisseling). Maar het dubbele-enter probleem is nog niet opgelost. Wss heeft Ace hiermee te maken.
12:11 twee dingen: 1. for some reason wordt de ace editor in mijn testprojectje niet weergegeven. Dat is irritant en vreemd. 2. De aceEditor zorgt voor de extra enters. Dus dat is goed om te weten.

12:56 terug van pauze.
13:00 de Ace Editor zorgt voor de extra enters wanneer er gesaved wordt.
13:10 het is mysterieus opgelost als ik niet joinWithNewline. Maar waarom ik de AceEditor nog niet kan bekijken is een raadsel.
13:20 bug opgelost. newlines verwijdert bij het openen van een file. Nu nog zorgen dat de tabnaam gelijk blijft.
13:31 tabnaam blijft gelijk, maar hij verspringt wel van tab, wss omdat de tab heel even leeg wordt. Maar hier zie ik zo geen oplossing voor. Ook is het dubbel-enter probleem niet helemaal opgelost.
13:51 oke het volgende probleem was dat als ik rommel.icl veranderde, maar daarna opsloeg, een oude versie werd opgeslagen en een oude versie weer werd geladen. Daarvan heb ik gevonden waar dat door komt. Er gaat iets fout in als ik typ, dat de contentstore mee geupdate wordt. Dit kan komen door twee mogelijkheden:
 - er zit een fout in mijn mapping tussen de twee stores
 - updating the stores gaat gewoon te sloom.
We kunnen hier achter komen door de verandering te doen en dan heel lang te wachten.
13:56 er zit een fout in de mapping
14:02 of zou het een fout in de Ace Editor kunnen zijn? dat het het wel laat zien alsof het op een regel zit, maar het eigenlijk nog op twee regels staat?
14:04 Ace doorgekeken, maar daar word ik ook niet echt gelukkig van. Negeren en verder met placeText
14:06 werkt prima afgezien van:
	- de text wordt op de verkeerde plek geplakt
	- ik krijg niet de mogelijkheid nog een solution toe te passen
	- er slingert nog heel veel debugcode rond
14:17 probleem 1 zou opgelost moeten zijn, moet ik nog testen. Ik heb een wijze les geleerd, die zou kunnen helpen bij probleem 2: het beste is vaak zo min mogelijk >^* en >&> te gebruiken, aangezien die je minder controle geven dan je zou willen, en ipdv >>* te gebruiken. (ik moet eerlijk zeggen dat dit gebaseerd is op intuitie en niet op een echte reden. Mss zit er ergens een bug ofzo, maar iig worden >^* en >&> snel buggy. Zo had ik die saveFile die niet wou afsluiten en ook deze offerSolutions die ook al niet wil afsluiten).
14:22 wacht, wat ik zeg kan niet. Dan moet ik de enterchoice opnieuw laden, maar dan is natuurlijk de error die ik selecteerde niet meer geladen. Tijd voor een aant.
14:27 realisatie: ik gebruik feedSideways, maar ik kan ook gewoon feedForward gebruiken en wss is die minder buggy
14:34 aha, wat ik wil is dat als de gegeven input aan offerSolutions verandert, dat hij dan meteen de task die hij laat zien afbreekt en opnieuw diagnostiseert. Maar op het moment zit er wel een watchtask in het begin, maar niet een watchtask over als hij een oplossing heeft.
15:19 jahaha! offerSolutions werkt als een tierelier. Het enige wat nog niet helemaal werkt, is dat hij de juiste file moet openen. Maar dat stellen we nog even uit. Waar ik nu heel veel zin in heb is om van tabs en offerSolutions bruikbare libraries te maken. Ten eerste heb ik dat namelijk al uitgedacht in mijn hoofd zitten, ten tweede geeft dit iets nuttigs, ook als mijn IDE faalt.
16:53 de dynamicTabs lib wordt een juweeltje! ongetest, maar wss geeft het een error omdat het een task() verwacht, (dus met () als uitkomst).

za 29-7
11:52 tijd voor testen
12:26

12:53
13:28 'internal overloading of ... could not be solved' betekent dat er een voorwaarde aan een functie binnen deze functie is, die niet wordt doorgegeven aan deze functie. Bijv: '| iTask a'
13:35 getest. Het werkt niet helemaal lekker. Als ik een task wil beeindigen, wordt de element wel uit de map gegooid, maar blijft de taak bestaan. Als je vervolgens een andere taak wil sluiten, sluit de ene taak, dus alsof updateTabs achterloopt. Er is een verschil tussen deze versie en de editorversie en dat is dat deze niet de stores merged op sommige plekken. Ik ga hier naar kijken wat de verschillen zijn en wat voor invloed dat kan hebben.
13:47 pauze

ma 31-7
9:56
10:16 ik probeer nu de toParallel functie zo te maken dat als de gegeven task sluit, ook de bijbehorende el verwijdert wordt. Maar is dit het gedrag dat we willen? Het is op zich wel duidelijk, want de task is gekoppeld aan de el.
10:35 'type variable <a> of type of lifted argument appears in the specified type': <a> kan hier alles zijn. Dit is een foutmelding die gegeven wordt als de compiler het liften van de where-functie niet voor mekaar krijgt, voor wat voor reden dan ook. Probeer de functie uit de where-clause te halen, om te kijken wat de reden is.
11:23 heel vreemd iTask gedrag gehad. Over gepraat met Tim en daarna opgestuurd naar Bas. Ook met Tim gehad over het probleem dat ik Type en Kind niet kan deriven voor de CloogleDB. Hij zegt dat dat wel gewoon mogelijk zou moeten zijn. Ik ga dus verder op linux om te kijken waar dit nu precies fout ging.
11:27 op ubuntu
14:35 cloogleDBfactory heeft allerlei modules nodig die helemaal niet bestaan. Nu komen die toch echt wel ergens vandaan, want ik heb hem een keer werkend gecompiled. Deze files komen denk ik dan van een server, en als ik de readme lees, vind ik mss de file die deze server aanroept en kan ik die downloaden of zo.
15:12 in de cloogle readme (dus niet de cloogle.org readme) staat dat het dingen uit de oude compiler code gebruikt en een terminal comando om die te verkrijgen. Dit lost een groot deel van de dependencies op, maar creeert ook weer nieuwe. Nu ging de terminal comando niet helemaal perfect, dus mss moet ik hier nog even naar kijken.
15:53 ik kan de file ArgEnv niet vinden. Mailtje gestuurd naar Mart en Camil. door op Windows.
15:57 op windows. mailtje van Bas gehad dat het vreemde itask gedrag op zijn computer niet voorkomt. Eens kijken of de store resetten iets oplost.
16:31 het ligt wss aan >^*. Mailtje gestuurd naar Bas hierover. En een workaround gevonden, dus ik kan weer verder.
16:34 deleting a value sluit nog niet de corresponderende task
16:48 interessant. Als er iets gedelete wordt, dan wordt de taak aangeroepen om de twee stores weer gelijk te trekken, maar aan het eind is er nog steeds een difference.
16:51 test toegevoegd aan aux_remove waaraan ik het verschil zou kunnen merken. Volgende keer runnen. Maar ik moet nu naar huis.

di 1-8
9:34 mail van Mart gehad dat ArgEnv niet meer bestaat, maar ook hoe ik er een verkrijg.
10:37 volgens mij heb ik de db running, ik heb er nog niks vanuit iTasks opgevraagd. Maar er worden geen modules in geladen. Dat is vreemd en moet ik oplossen.
11:11 buildit krijgt instructies vanuit de commandline. Deze worden volgens mij gegeven vanuit de makefile. Makefile tutorial lezen.
12:09 tijd voor pauze. plan daarna is CLI er uit slopen, want daar doen we niet aan. Makefile was niet zo nuttig. parseCLI was nuttiger. De clean_home environment variable bestaat niet (vreemd genoeg) dus die heb ik aangemaakt.
14:46 een stuk verder. Modules worden geladen, maar er zitten vrij veel errors in. Ook komt het project in een eternal loop als het iTasks.Internal.Generic.Visualization probeert te observeren, gevolgde door een Heap Full.
15:01 oke, vreemd. Een veelvoorkomende tekst in de output is Platform, maar er is geen functie in Cloogle die die tekst lijkt te printen, volgens grep.
15:35 hij liep vast op het feit dat hij het moest weergeven in een viewInformation. Nu werkt het.
16:36 helpwindow cloogleFind gemaakt. Maar die lijkt niets te geven. Ook ziet mijn project er verkrackt uit omdat tabs gebroken zijn. Ik weet niet of dat door Ubuntu komt, of omdat dat iets was dat ik moest fixen, maar ik meen me te herinneren dat het het laatste was. Dus het wordt tijd om de windows en ubuntu project te mergen.
16:48 installed git cola, een git GUI. Hiermee kan ik morgen committen. Maar nu naar huis

wo 2-8
8:48 git Gui bekijken en hopelijk committen
8:54 ik snap hem niet
9:05 pauze

9:27 eind pauze
9:36 ik wil qol mergen om te kijken of dat het verkrackt zijn oplost, maar blijkbaar heb ik de laatste changes in qol nog niet gesaved. Dus dat ga ik nu doen. op windows.
10:13 clean_home environment variable definitief toegevoegd (blijkbaar was dat niet). Een van de vele redenen waarom ik windows fijner vindt.
10:25 de termen layoutSubs SelectRoot bestaan niet in de nieuwere itasks, maar ze lijken ook niet nodig. Ik moet een keer testen of ze ook nutteloos zijn op windows. iig, we hebben weer tabs
11:41 Mats van het werk afgehouden.
11:53 opmerking: ctrl-L zoals beneden gedefinieerd is nog niet perfect, want bij types staat :: voor de term
11:57 betekenis Location:
	Location libmap-string modulenaam(omzetbaar naar pad in het geval van de library) (linenr in dcl) (linenr in icl) (naam)
12:24 cloogleserver heeft een functie handle, die zelf search in Search aanroept. Samen maken die een heel uitgebreide resultatenlijst, een stuk gevulder dan een simpele findFunction. De vraag is, willen we deze functionaliteit overnemen? Dat is namelijk veel werk.

14:15 eind pauze. functionaliteit nemen we later mss over. Nu een funtie die het resultaat van findFunction een beetje mooi weergeeft.
14:43 ipdv preferences in atom aangepast
15:15 cloogle kan geen functies vinden als ze niet in de dcl voorkomen. Dat moeten we mss veranderen. (Of alleen veranderen over het eigen project).
15:23 coole code stub zou zijn 'to auxiliary function', wat het volgende doet:
a :: b -> c
a b = c b + a (b-1)
naar
a :: b ->
where
  a' :: b -> c
  a' b = c b + a' (b-1)
15:31 ik wil nu de list to options functie kunnen gebruiken. Die moet ik nog maken in de homemade library, dus laten we daar verder gaan.
15:40 pauze

do 3-8
10:09 ik had iets gemaakt zodat er meer info tevoorschijn zou komen over waarom er een difference was, maar ik zag gister niets.
10:39 mapTasksSequentially is een maffe functie en ik wil even voor mezelf bewijzen dat deze het doet.
het krijgt een b->task() en een [b]
foldr krijgt een functie, een startvalue en een lijst.
De functie krijgt eerst het element en daarna de vorige value.
\b return(). return() >>| task() >>| task()
ja deze functie werkt.
10:48 de task wordt wel verwijderd, maar de tabid in de tabstore niet.
11:50 geluisterd naar tim terwijl hij vertelde over zijn onderzoek
12:30 hoop verandert aan de functie. Maar klopt nog steeds niet.

13:20
13:26 hij geeft aan geen difference te deleten te hebben, maar terug delete hij alles.
13:28 ah, .intersection is niet .minus. Het is keep what is equal. wat ik nodig heb is .difference
13:33 add werkt. maar delete gooit hem nu wel weg uit de tabsstore, maar delete de task niet.
14:08 voorbeeld tabs.icl verder uitgewerkt, namelijk removeTask toegevoegd. Werkt precies zoals verwacht. Dus daar ligt het niet aan. Het vreemde is dat ik oprecht niks out of the ordinary zie waar het aan fout kan gaan dat de task niet geremoved wordt. Mss dat de taskid wijzigt als een combinator aangeroepen wordt.
15:04 Bas gevraagd hoe ik een sharedtasklist kan inzien. Mail van Rinus gehad over mijn review. Hij vraagt of het feasible is dat ik de ACE editor uitbreid. Nu mijn review aan het doorkijken hoe nodig dat is.
15:51 mail gestuurd naar Rinus dat ik liever mijn eigen stappenplan aanhoud. Next up: giveSolutions (of hoe het ook heet) tot een library function verwerken.
17:27 tijd om te gaan. bezig geweest met library function viewSharedListWithDescriptionAndOptions


find: grep -rn --include \*.icl --include \*.dcl term ./
compile: /home/martin/Documents/clean-bundle-itasks/bin/cpm ./pagesWebIDE.prj
ctrl-L: grep -rn --include \*.icl --include \*.dcl 'term [^\n]*::'  ./

types and programming languages: typeringssystemen
programming language pragmatics: hoofdstuk core issues in language design
essentials of programming languages: algemene concepten
structure and interpretation of computer programs: algemene concepten (online)